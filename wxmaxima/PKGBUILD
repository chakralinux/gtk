pkgname=wxmaxima
pkgver=17.05.0
pkgrel=1
pkgdesc="A wxWidgets GUI for the computer algebra system Maxima"
arch=('x86_64')
url="http://andrejv.github.io/wxmaxima/index.html"
license=('GPL2')
depends=('maxima' 'libxml2' 'wxgtk')
makedepends=('cmake' 'doxygen')
source=($pkgname-$pkgver.tar.gz::"https://github.com/andrejv/wxmaxima/archive/Version-$pkgver.tar.gz")
install=wxmaxima.install
sha1sums=('b5494a55b9e10153af4ef36bec4a345b576723a6')

build() {
  cd "${srcdir}/${pkgname}-Version-${pkgver}"
  cmake . \
        -DCMAKE_INSTALL_PREFIX=/usr
  make
}

package() {
  cd "${srcdir}/${pkgname}-Version-${pkgver}"

  make DESTDIR="${pkgdir}" install 

  # Fix category in .desktop file
  sed -i '/Categories=/c\Categories=Science;Math;' data/wxMaxima.desktop
}
