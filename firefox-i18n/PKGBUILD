pkgname=firefox-i18n
pkgver=23.0.1
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('any')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox-kde>=$pkgver" 'filesystem-extra')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  'ak     "Akan"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  'ku     "Kurdish"'
  'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'nso    "Northern Sotho (Sesotho sa lebowa)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  'zu     "Zulu"'
)

source=()
_url=http://download.cdn.mozilla.net/pub/mozilla.org/firefox/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}

  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
done

# Don't extract anything
noextract=(${source[@]%%::*})

package() {
  for _lang in "${_languages[@]}"; do
    _locale=${_lang%% *}
    install -Dm644 firefox-i18n-$pkgver-${_locale}.xpi \
      "$pkgdir/extra/usr/lib/firefox/browser/extensions/langpack-${_locale}@firefox.mozilla.org.xpi"
  done
}

md5sums=('8e0a9bf151abcfbacdafeb37c2084e17'
         '87b9c032d5e5b5845a59eb0ce24102e3'
         '96ce473ebbf02dff1cd4551554542cba'
         'f4f2735102720fb321ca112c6eb02c5b'
         '67c49d4383da21fa7c5d7a67d3a8c447'
         'c49d8ec07e30159a38cea48a38774354'
         '5d0fd41896b794f997f3ef6005f858f9'
         'c43bfc37616c605702108cb524b122a2'
         'cafe599eb7493f190621b405d51cd2d9'
         'd0c6388031852727fe76bcdf819d542d'
         '2fe5cf44bb011268bb9afe8069d7b8a5'
         'b4b5466d4fc6e1152ecd5b6e5ff891e7'
         'f4d8dcc8e3b5b383d2b4b2690716cc28'
         '4db2069b602039b6ccfd00540ac677c4'
         '742c8ddb1e7ab4845a7948f775b8391e'
         '1138ec5c430636f70df770e9968baee3'
         'f80f55e2e8b80555f31d3d7d1b8965c9'
         '20f409c087c6d068304ab5a3d0ffbf92'
         'c3fd042a55d5ed7e7be36d7491d5bb4b'
         '56980f351f61546d4dc79169e5f932a9'
         '8e857ab4387eac39453d3be81da304ec'
         '4e21688f3ef8749d556a55f31454bd7e'
         '45acd3cda40253bec995b1825fdda29f'
         '82b61ed8575053a8bd348bd667305402'
         '60ce177b991ac0651c1583b9863211b7'
         'd0ee8a9ef228bd2f1d14c0a7246911b4'
         '5cf30dd0cde44566d0a5c0cf6edf674c'
         'f7db29873cddfeca6ac1ca0d6f10215c'
         'bf7ecfcd1e18775a59151f9b6d67a580'
         '03ef847c3fdaa542d2b00f9fb6112cbc'
         'df533df80f2520bee34ecefca0575f80'
         '65c7147520df23e2e20d9583440468a8'
         'b849d7164c5924993bcabb3d294f3f2c'
         'bfca7c7b9dec8c6741ef2caa78bc8d04'
         'b98576f691e1c2ca5b3aa8b508be5ed0'
         '4ad30b1592b48a58f66c958bee60d3b4'
         '95b88b051f0940f293c6c42584e25759'
         '88b2ff0bc71aaa5003ad1afd077b27e3'
         '7d8b35431b64fbe5dfd9ea4902682e2a'
         'a479b22167aec1a3561d325558b70b9f'
         'a24a9ae3538b8854caf5ade1561c6be9'
         'e73b744de7cc9d9b789e6e45de6f2ad4'
         '4352a688ee1890afbcf46824066e4320'
         '1761a9b554f1ac4c37311770d0b8b838'
         '692789b71e6d18aa343e181da1394fe4'
         'd4553354bdd4a1e6f14c56c924d8f9db'
         'cf44df8710d0dc45139556725696c663'
         '4068af50c555ee49abf0c506e778aef0'
         'dea268b950f49219cdf8359003112e99'
         '09ec8779e60e274eff6384851a86e7fc'
         '70e9add57e7a5f9575724163d42a70ae'
         '2579ad15a41ba877fd269329148faa88'
         '0a344d3b8f8ff62bf103c87dbfdef21e'
         'a26a1bcff3147ded006cfe9689de8630'
         'bc60166aed951a27af8c0d3940a93d1a'
         '83e68fd40095d4b2fe235a63e3ffa501'
         '6d7ec24b6ac865db948be2c5da42baa9'
         'f630c0e54c37234db8aa578563333938'
         '9d143825099f9b2fd09f478fc51a1219'
         'e83a95248873c543c5f5b60ffaa85a81'
         '6ae57b66725a0ffaab2b28fa0c6e8e2f'
         '50a3b635d1b0e20523486440ca62b3d1'
         '5185ef947cf6972c976edd61221b90d2'
         'b6a9ef62416387712350663078f3051e'
         '70ef6c02b68c980089d1dff422d12c9e'
         '4ce9a229fa7c5f3c43848b2e7bc5f093'
         '6b74a015cf0c32844e10d58847cc06d3'
         '78cc3754d0e80f3c434b848d6eea626b'
         'c70c93b3899545fdb918293a7729f888'
         'af5909d6098f37dacd92b8def6f3aebc'
         '07fb1f84c2682c7df889ffbe800e35a0'
         '929336fbf48e7167151693e9cb4d4ea4'
         '515229e71f1abd9eda77920889043101'
         '0a9b923d2a4e3c5c315b1909a09475a6'
         '218db9a2c1035902bf09eaab205950e7'
         '5875585e619231278a55411ab30e1dbe'
         '9508cd90df6d109124b9079101650246'
         'daf81f191fa88d447d5d4be8ceb28f6c'
         '1aea633bf43a604ef42cfa5350cb30fd'
         'acdfdd2af4c87401a3d1c9ee8317e58e'
         'd7f438029fb2c9e2f81a7cf951f63425'
         'cf467d17187bdb789cedaaa83d31bc5f'
         '97f50b911c8ca767e1b835d91356fda7'
         'f09a40ff426af39cb4bf31580f2802b2'
         '3440629ebda0f6bed1ae2f37c14e3352'
         '90ac8d96c6fd37389a0e61da7968ae0b'
         'fdffeccf8d60e72b7d76852226b92646'
         '92898f3a5c27ff4b161e6edf2ef0338f'
         '6bae1cf42cdef4967aa8e5affc90b006')