pkgname=firefox-i18n
pkgver=56.0.2
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('any')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox-kde=$pkgver")
makedepends=('zip' 'unzip')

_languages=(
  'ach    "Acholi"'
  'af     "Afrikaans"'
  'an     "Aragonese"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  'az     "Azerbaijani"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (British)"'
  'en-US  "English (US)"'
  'en-ZA  "English (South African)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fulah"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian"'
  'ga-IE  "Irish"'
  'gd     "Gaelic (Scotland)"'
  'gl     "Galician"'
  'gn     "Guarani"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hsb    "Upper Sorbian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'ms     "Malay"'
  'my     "Burmese"'
  'nb-NO  "Norwegian (Bokm√•l)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Portuguese (Brazilian)"'
  'pt-PT  "Portuguese (Portugal)"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhala"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'xh     "Xhosa"'
  'zh-CN  "Chinese (Simplified)"'
  'zh-TW  "Chinese (Traditional)"'
)

pkgname=('firefox-i18n')
source=()
_url=https://download-installer.cdn.mozilla.net/pub/firefox/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

# Don't extract anything
noextract=(${source[@]%%::*})

package_firefox-i18n() {
  pkgdesc="Transition package to split build"
  depends=("firefox-kde=${pkgver}" "firefox-langpack=${pkgver}")
}

_package() {
  pkgdesc="$2 language pack for Firefox"
  provides=("firefox-langpack=${pkgver}")
  conflicts=("firefox-i18n<31.0")
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}

sha256sums=('d0817e6ca84df88384122e7b7d671bf09a226bb0482427a5097c4a92f7b5060f'
            '7aa54ef5db5825ab3bc9522861b6e34869ccce018785ef633a04c0c261b1af4f'
            '8b216d6f4c23263814a7ca8593bc8cef3bae76ffe1b772f1b7944f8c7104a19c'
            '11b19a35d960bc62f18b78368ee9e4cb3c78fc51f0d4a4f5f486016080da5db0'
            '63f7105a97ba3bb6c89b470a93ae3ec23a8f3b076cfc08d920ffb655e1d8c870'
            '1cf5c2b43b3f9215868a0646b621afaaeb305df74ce1f4895577ff999af700c2'
            '790c9de690ea41d65d0826a0b87df8d7954cf0436421536e3a84ccc39ae098ac'
            '231085b01e3786c384bd0a2d99ec218369eb0a277386dc18abd889d7cca2cce1'
            '79770e1cd025e33bb0f4455b6a9ac61affe6643b9e9c76986f53406e9463a4b9'
            'b0f3cdb6e5f027db26408a323ab871a77cbc172d88896ab230bf2c1aab200fde'
            '8ff63363a0096d71022469b905ec245d2bea7c9c316ca3a31136f155d26c73b1'
            '630623d5f86256c516f36f197781dc770bde150288a00ddd1e66de192f01dcb1'
            'ff5cd8c7a8e95c3573e267e6b02eee92b7dade158a3986a5bbb489b0ab856cd7'
            '4b2f4f90afc26813d92efd1cb4144e0afdee4db61567afa6a3346445bc2ef3db'
            '60885a8816e8d78ad6b1b464e1951756a9a054aab9d135a3ddb8d69454eaa7ab'
            'c005c7c5cdec2d4eb96187d95e1a0e274427c1c38a0115afdae761395a0f1c7f'
            '700653cae68d7d455066d9e99b934ebfe537d7ff24ce7862c836266655817a60'
            '2442762289d22566ef013dd29e8342004c7d635d9e8398055c8dfdbe110c1fec'
            'ef857f33908b205a109746f68ac7cbda75ffa532427a4f9949726bcf8b611d9e'
            '438744a069181ece415ae9c64c03ffcf62d9f0026307decc3c9845bfbf37f1b0'
            '618f390c9a36aed65860d6ad20444c9c6224471d0a394de92a21262291327ff2'
            '225f5fccd35ad0992f6ff326178a4541624494f1539c7391a78247f2aeaaadf9'
            '6f04c2318e32e84645dcdf5eb183265a293b0093dc047253afdb37af929ae2ac'
            '413250f4f044d57d5501b56333e0ac43beb4ea99e55f0543c9df3e6b486ec606'
            '2225d7b80ee44a76914acf7b0cdb660c5d7f966764ec774edc1e2a4d2b838098'
            '8136621a736ef72c33c6ddbea3d4d661d59e66a5342d86870b0c9dd578f2fc10'
            '7feef7afee45eb366ba8c885a9b09a5708323bec2e39302e1bdf1a99d355bf67'
            '81a3f544305c02cd0b866a5175ba803672a75e5a0e94f2e9b4dcfa8d63fddb7b'
            'b44b98577b188a911792e139bbcc60b1b11301bbf158857772bdead139520005'
            '91b6ab3bbff0f4e2c2913b2202cb56de6a8c1ec1ece15af2cc4e853e82d4a79e'
            '1de771a70a98fb3042f3c0c9c3f9b2a9bad37365c7cc77de7739b0f0d6a2eed2'
            '172194ee9b74b765e728d65d98b8faef04c9cf8c73740760597f33351e020656'
            '57d1e00d269723302e5787e1e4bf971d1253536f44055abc6762dfd478cd2a05'
            '0c3f3fcebdc3f3f05979b9aea40f3e6b22fcd03a09af163082887da6274cc2bc'
            'bccd24c6d010d820947e8f0b6ba3c31430fc4dfff22ac80a3f14edb35f67ebf6'
            '87719a7ade64fb3c98969c116a2fd2c17d8ae95627f69c8d9a358dc997d3b57c'
            '2368cff53b1ea55e1614acd13680465815abdafd558b49588e864e3ec87f2b17'
            'cea63fc3f9a5c8ffaa1bcab1831e7c3d8af9c449b04eee34edce531edeebc200'
            'dc1fd0ee6ee55c9c16aa8ea2c5206450e37f44615cf45d66d6f135bcec03b7e1'
            '81dd74079f6e27a36c722570e3849bb36aad5586a8d7e04d99dac8044a90c265'
            'a39b80be8f20245c6a51e9e5609291289777ae715ec78eb8b8b17c3de5c63446'
            '44783b10ef1aac42d77fa6ac2d9123eb4776916d6ff77dc23fb1dfec97c872f5'
            '923c9a94a02ca35f984b1d015ab85e4cfce95f3d4a776e2ad26e7c01a9bbce63'
            'aacc64246c82d9e9e3902c20b4d25ad27a2638565cbb66d9cb8532b4b35167aa'
            'c875800738c4ac874d3c5919a99f97b54f3d1367194829b5521fe64cf6e8524f'
            '31f6d4e046ae9b4b68898fb297f1260dc893997c3870ee25d7722d771d9600f7'
            '9683dc3ce339bc32c22d7418469bc446aeb7185a5fdbbf2cf230f2f2a8ab87ba'
            'e5c2bf9a6a54b7931565635569dc6110e170fec5b8649e2d65bddd1950853598'
            '5346df648c2f6461dbafba41415e18b2f7fa6aad3fb01847536c0c3aa9cc8d7f'
            'dd875ea1e97f047c8911f42fc71cfe2a47c078515027eb783e128564901793a4'
            '2c8ca09454919121bba2ece7e8e10e880b3136056fc172c72263c828a0d3e30b'
            '9493d170fd86662b79f435378ddef746309c54c4cab442891f93c74742b625d4'
            'b30eb0af62074ce07db872767523b84caeb34d5c2af6a6a459e8d26fac3e5eab'
            '32bbdbd4ac73ba701b7a6c0cb4a258c8d3bf84523ae9ea09e76788c72ac369a3'
            'a9c844837b5d56050460b2aa1a85942329dc0a1b6c7e1ab7cf027405761a2773'
            'be74d19b1147eec728d7ba94a2263a7a591a00f85b7db354416eabbe12d250e2'
            'af413c17b8b2e78c181fb01e4606f613e065b80c90eb3595d87d60019c1b179d'
            '8810ae2a9cc69603c787c1005b7ec79b462ccc624ceefc45770817367193dee6'
            '305bbc719110a54f62ade09507f0ee8d63776b202657cede738c0276ca3d68be'
            'ea064e967b98ae0c2be63a2c8420205b0f6cc7b4f8a09bb5efc2667e5f975695'
            '336024d9736c1c91f1e26c78f1674ca0d87ff2a525d0e98198f44644d09a6708'
            '7ae1c53779714a6d13d51cbe524d72d2560ed75edd6f98bd712d3afd4267876f'
            'd97ff1043dc743bf08664909e93c0e0e6888ac378ff84960fc3eef0b6e7e3154'
            '5819eeaa1c11e95bd3f0bb077da2370cb82445f893f4b5e7609cc10c367f9b9e'
            '4fbf09e876d1149efff2c94596c5df4e33075fa8f13959b3d584d1cec86810ef'
            'ce35e5b4a54d1bcf958bfaae91c812e44c9fcc2b1c4e78ea22be743ab46e3cea'
            '941755d7380c5a14499d0d3d29a2aecfb1fdf1dbeaed31413adbfe9c1725fa1a'
            '19d3f44ab0108ae7cc2cca69edae09f098825b3398d83e689b0249ac8dfcfb36'
            'd0010245aa56349913e6402f050edfaf5bc407f134f7ea69f2eac8c7614a1106'
            '2480c38b2135ba3085fb838663c1147c204ca332669fa77241909188234df5e0'
            'eca60aa65591f472fe4bc7ec9f100c11768d2e1fbeba17baeb2842c21d893fea'
            'aa3037a3e761bcbfb04a932c16e02db69b5ec16f89493859d9f71f1c3f9c0705'
            '45debcf780622cbcc344e5416844f148918c2ed69e1d81b34d9879fd23a9a950'
            'fac6ab423542dfd06a9625cd67e5129c4158b8b4466a7c76b0bfde16c36d44fb'
            'a07c61f277c63770f3bf9bdf80cc03f755bbb6d1d941cdda4e598593b58d45bf'
            '64ce92914c7ee8620c71cfa68b04049563b143e9e0845dc9fe30cf848d975a85'
            '702864bff96ba64c89b80bc82b7a39206415ab8ca41aa26ffb72432d5cdd2f2a'
            '9a53a263fff54f5f6be085f7447cb2729dfdd0c2847aa324e3060d79f03d45f5'
            'bb3eaae8ee775421ddab620b044e587e09fc62863f91ee4a9238344754f68dfa'
            'dc67b5ac78ef1457b3cca25325dd39895e74bd9039004d00cb0c7be909c575f1'
            'ac97235b392fe6ffd66099751569b5ca072888fd72f57f0dd84b4c0f2697dc61'
            'e3186a302c3b8303b0a342fcb52fb07bcbf58f7e0a38c974a9600092f89fc605'
            'd0f895780cbffbc06e4152bef05cf3f8b2be1426f5ebd0d03d7a139db0e4ced7'
            'dccbe38897003940ffb072ad401a17ddb546b2507fdf992d6fb50c6841a03b9a'
            '9883b8d737439aa213ea2633d4ca4fafa6e5071ca054efbaca645de83480ba70'
            'd2331b224e20d7cd639dc0fad3f3fdbc5f7463b110c2b565340f21f4b7fb669a'
            '888a01fcf242133897875b7b48794dad85f5eff776f063c7e83049517ec55314'
            '5385265d1d851343a056d7fe27a83992ff3ed4e261a9a6c087669c8d2b4549a4'
            '506742794f7d0fd1646abd2de39b34bacd833996a9e9828d0a40b7664ad3f392'
            'ed533f9d6f911a49f949b4970a7efa4851e32fa55e4252fc54341f1b4dc1068e'
            '391cff569f3e057fd3af51edebccc0a2aa5389923f3da48f789a162eab9fde5e'
            '9174e66c2eaced95ae6691a7c58b98e77390efca4d2558fcf58e248418b836a5')
