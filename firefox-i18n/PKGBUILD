pkgname=firefox-i18n
pkgver=56.0
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('any')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox-kde=$pkgver")
makedepends=('zip' 'unzip')

_languages=(
  'ach    "Acholi"'
  'af     "Afrikaans"'
  'an     "Aragonese"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  'az     "Azerbaijani"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (British)"'
  'en-US  "English (US)"'
  'en-ZA  "English (South African)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fulah"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian"'
  'ga-IE  "Irish"'
  'gd     "Gaelic (Scotland)"'
  'gl     "Galician"'
  'gn     "Guarani"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hsb    "Upper Sorbian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'ms     "Malay"'
  'my     "Burmese"'
  'nb-NO  "Norwegian (Bokm√•l)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Portuguese (Brazilian)"'
  'pt-PT  "Portuguese (Portugal)"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhala"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'xh     "Xhosa"'
  'zh-CN  "Chinese (Simplified)"'
  'zh-TW  "Chinese (Traditional)"'
)

pkgname=('firefox-i18n')
source=()
_url=https://download-installer.cdn.mozilla.net/pub/firefox/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

# Don't extract anything
noextract=(${source[@]%%::*})

package_firefox-i18n() {
  pkgdesc="Transition package to split build"
  depends=("firefox-kde=${pkgver}" "firefox-langpack=${pkgver}")
}

_package() {
  pkgdesc="$2 language pack for Firefox"
  provides=("firefox-langpack=${pkgver}")
  conflicts=("firefox-i18n<31.0")
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}

sha256sums=('22cbeb52170875bad96b1988ab4b3faa046aebca0581ba282ddb95a6c531ea30'
            'e9c946230f6c15cf3baeadc5eefbee70ceb7b371edb45f1b1696ebcacc62ac5f'
            '35ff736363f4ceea2779b7d57d8e8da224f19c27fe032912d99adeae102260a0'
            'cf9b537f16f4b40173d182641b95faddd7e67cc0ac905e814038158e71bb80d4'
            'c6a144cbf9776381225956e101084e56ab07ddf7731a026f4a68a2d7a01637eb'
            'ab72418872e5d8fc139510a3b3147a1f0fb989007450015c86e5ffa09496cd4d'
            '8d7666cfdd9466e6bdc4a7eaa708fc722cef65aca949c0daebea3432ca504c5a'
            '4e3301fec128e87f2136589980a5cb4c54be4b8888580459ddf512a573699bae'
            '225a79c3a377f74a5d03a27b95ccb2ee31fc5f2aa77387c9fd271c524ce3485e'
            'bab1c2062f809ef2feb81ac30dfa505d6761c8f93fe1e8e24d2ad3c1a69692e5'
            'a78a88925fe8174baec4a5c2f1009b092e4d6cfe18b0f71ccd9bbf2c2f650c17'
            '4c062ab969cef19ffb1052df62bc287e852d840cfae796b80a0bfd94745a299b'
            'f4f430c188fe9ad212d34360d1d0384bd06f28e0f77548b803071a1329fd70b2'
            'd9406faaa609436ec1887749f6a11c73bff8e03b3e89ca7e6d7626cbc2cb3d7f'
            '2f771222c737486c42c90d65e46eef26802c735108b93ad8d25e9a066ae7ef68'
            '481deee33fac8e2975a97496da8c56610112e54ba93cd6f3004e97e291637693'
            'd4d28591997d14e05fec7dc87a564b752b15011f34ca5bde3ea5d62cac6f7d3b'
            '42d0163cb6718b59f9a39001dcf653c3ba9092d64c83d896ea444a23c6465058'
            '3c0b31cdbe96d9fd9e05e4a84e0e10997462f0a2c06fe30d439b96c9ce31a7a7'
            '4e5fa3c8d5466755b9cb1891c7fdf51141ce2a3413ce38d60d482e2002ba8b3e'
            '0e01e320c38e7707a1db73a070401c2c7807fda106bde89b7f2d93826497e395'
            '81f799a9bf46e2126c0418de97a9c1bc3ddade45ad4a57166104966a78d67198'
            '534b9bf2074be134b59c030f4f77e61683c0e813ed5aa1d1be81cbb03d227245'
            'd1513caaf5df9d99226d84c88936dfe7abf929972de0895ae242d705b1f74a03'
            '450f7d66eb28a1461227a302021fb54acdc41a056459e9b2c972689d1420d3b6'
            '66450d38ba3348a2dc3c79d66c77511e94477157a1cc8d5eb9e3e56a00186635'
            '35203b926747c2856b2d805bb2cf032bdf0a054d3b5a0779037131cd8ec36741'
            '5b49db4b062ee34341888e7cf39f59b2b62076a679d9968ca44d074514ac77b8'
            'e8b22b74c094088649080b02a6d84b23c53f71a69c3655ce85cee41ee13a6f89'
            '8fb16970f1c56d97ef7ef981a3e8748ade742521393cb57c9fcbd0d90fc3fa1e'
            'a62b209d1f4b1eddb406021e55605358f13bfa9712406ee094a0d3b707c04b74'
            'b89e8739e17a1563621b670b399ce5bc502cd66aac6aef4925e21431f2c4107f'
            '640a5cf53f68f54c87fbd354d23fa51d80f79a822a153b925c2382273ccfd029'
            '747b42a4fe14bb5de6114b82a2e7ba429fa27e4a869d799574e42e6a8ca5cb99'
            '18725cf7c2fae5df2dd0c90e316227087f857221298ab5ead59f34e37eacb7ec'
            '5130985e90152ae7359dad2283d4807a7b619a6543c0956392c04abe51c18deb'
            '6cd3cb32c3f9c901239dcde6208a40334d37bbb157b231e2f52453f9fde46b8a'
            'dac2bc1c1201e1440eebf0ba18befcaf0646395775338ac18f291392ab201213'
            'f68b0dcc69a852bf2f308be61058d3f2927d7a97a9e913d99c49704c8d2a3bb4'
            '16b0c7df971adddcd168ccd5e5b3a51b2660b71d840d7de4edf7676ef391c325'
            '3d26ad1677d340d0e9c6e2469540debdee813e02cd27350dc640699690410f20'
            '644b4f03ae6a98ae876e6470b90f228a536e17020dfba1a74883906cc2b7a321'
            'd16fe36f356b57b1ae18785d6d3318b9f81ae782d86c15685892b2851e6269cb'
            '7b421b3e4324e9f78c35c043e66a26c71a979e8ca87d127f3495de7b480756e3'
            'e531d67049f1012a95f461f95c484df77477f9ec092da9e64712c7b9f929dba3'
            '8af2bc7f168b1ad44b5a22f9b36eed043423b9d110fed956c00b8e21252e9b4e'
            '8a1e9d49e74b0f20a6ffc4bffcd5f3159815182d1c49e071e5e5053808c30bb6'
            'd4ea6f02371d189563463ae70e600530b08ec4d6a2d2bffecf12e482bf8fe369'
            'da1c9048b1ccf4d4c487d4abd6cea7a7033a7737a210f1015f087fe6d8109927'
            '247b307280ed815f1d0b81b54e34216172594c8cecf07a7dfb61868f115279e0'
            '0bce94eb1370771850756e70edcfedf38c822b8d1aadc82835b332dfff49e571'
            '244c6c1a2428ebe55efefcae08e5afbd16895a94027e10e5b917f8d339be4805'
            '843ea79f337e0e1940791937447e3735866f431e82e8ce3c1ef978c464515b56'
            'ca91984831bd6e51b6eee41747a7437bfb95f3c63ff21800d6361e6c1d9d5faf'
            '400051b644a36bc78413aa10cf977f9d66481024b3e35894b189e547a4a34cad'
            '4758c2f4996631d7202ff6949f9362324b507d79d0738709e0e9efd433eee643'
            '607fbbd29e61e8e2b24541c65a4464029c35e84f47426d5926dc3d16ec202166'
            'fd8b2d585eaceb4fb93f0c761317bc2d8fdb81af4eacef3130bca5d674ca0f4d'
            'f8c86832d62c3e6fe59edf0b4d3ee6e780cad9a7f82baf84d8967537a84c6b19'
            '672bc03225950cecb3527335773b19f2f0c320b8646fe903778e03dc837f7364'
            '5c6b43e363a6edd448447a5214312c021f9f8413b6a9271aa9d20f9fdfd69229'
            'df991d77c222b82ea4ac8dbb666f389cb491a93b0a653f8bf4c65078a946535e'
            '28558280c28b2094299e0f12df7df7a204de5813337852a60d67779bb99d81f5'
            'a1a913ad07db210f8c0f5b63f966396c070f266b6649ca53e0ede9e5b80ef33d'
            '68e5fa93b09636e62258fc3f11ca37621b8222cd18346084627aa84c094c2104'
            'f558108191c3d8cd24b6f5358d81e001cd511d4d1ac0c43de59e466f809a6e09'
            'a11cbd00be94231525c9a00c0871da3e82d35f450720143c9a8b2d6dd4fda516'
            'b1b5d7605a1a03df793d954678fe58994c16815111a7ad8fb1dc26524c3cc22d'
            '9f2c1f36276de2758c1f690f82490121878516a8eb283622ae5b0869805de531'
            '2c3dae60fe7696f2a45c66430f961a58e1d9940ceed27ef7c92678189da35836'
            '415b0131ad56f40da7876ed09a297857d23b7860206057c45012191ea93a60b1'
            '40ab76178b0360932f33de12d0b740f47a88d06c5b1c2e7fccf0efe83a944606'
            'a6f7032bd79ae6b68f061c1deb7452010296cce2239c0e8e8573d11477adc38b'
            'e63b74ee8dac3d85957b9a2470b9d6435ce604c2ea6a0924e0204a2c847947b2'
            'cae707fb8770477a1de958f5fca1bab39a776bcc7b4ce0c92f140a46795d34fc'
            '2a82bc54b8c8816c8df5ce14b3dd862faedc2d3dc8b53951ea77560b8551a3f1'
            '9078b01979ffea255ea0f35934f5374d7094b0e5ac6d9a9b0060ca13cd269b2d'
            '359359124b9ce47ba7a5eae6200e18243131c0027c9a1e667ac6089f1db2eee6'
            'd766c84f1f5828daf6e73d389bf67d508e5018248e336086b107c05a4b5c4bc3'
            '0d771e6824aafc0e60df062e545d2f367319940d449a6130b1ed691b9d37d7c9'
            '407730547e86c75526bc4db38d765f9c9ca6701da56a2d06bd2ec6f99ed54935'
            '1c9c1d28240dc88afb49554159280a6b32a6158fb8a2ed7a9696a9d90bb89f90'
            '6ac9d2b772ae5fe4e2990ceebbf6fafffef1fcc8fa2fd08182b65fbe0ed0d78d'
            '89d6a205d0691a5f10daf3096b349daa5df66b184e9a7608813ab89472221a12'
            '3f04461a6df6c2f4323df009d37f1f60c604de9c9e4405e731dc00de01e8d6bf'
            'ae29144b233f7dfc3e66b2107969871a9bb85a4caaa516d0793c1e1ef7e9ccdf'
            '4c7596f4823fa52946a14ff6ca0c87ad45d205a769794d4a626548c1c087f371'
            'a2d1278f49210309760a0b90f7a38e382c1fedf3ebb41f1568b9014b8d8bdd60'
            'dbbac26c638ca9316a907c05034a6fb55e4218c6c0fcc721c8c20338d73452b2'
            'd7b09b07765d2b0bb240c2a37bf187e476bc9a806d2024c516c270ca90e4bc92'
            '5b8042b4e99fbaee20c04bfaf5ed35f36a5a9664e3562928fec81dcb7e88b53a'
            '25ae97362b8b846e3776160911bd3bca94fdc2138d03a94cdbf2fe7d763affd8')
