pkgname=firefox-i18n
pkgver=48.0.1
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('any')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox-kde=$pkgver")
makedepends=('zip' 'unzip')

_languages=(
  'ach    "Acholi"'
  'af     "Afrikaans"'
  'an     "Aragonese"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  'az     "Azerbaijani"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (British)"'
  'en-US  "English (US)"'
  'en-ZA  "English (South African)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fulah"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian"'
  'ga-IE  "Irish"'
  'gd     "Gaelic (Scotland)"'
  'gl     "Galician"'
  'gn     "Guarani"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hsb    "Upper Sorbian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokm√•l)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Portuguese (Brazilian)"'
  'pt-PT  "Portuguese (Portugal)"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhala"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'xh     "Xhosa"'
  'zh-CN  "Chinese (Simplified)"'
  'zh-TW  "Chinese (Traditional)"'
)

pkgname=('firefox-i18n')
source=()
_url=https://download-installer.cdn.mozilla.net/pub/firefox/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

# Don't extract anything
noextract=(${source[@]%%::*})

package_firefox-i18n() {
  pkgdesc="Transition package to split build"
  depends=("firefox-kde=${pkgver}" "firefox-langpack=${pkgver}")
}

_package() {
  pkgdesc="$2 language pack for Firefox"
  provides=("firefox-langpack=${pkgver}")
  conflicts=("firefox-i18n<31.0")
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}

sha256sums=('50992b23e4e76768c1aba7487868362833a3d560d90e4f6118b9fad13e9af73d'
            '371dc1b740f273886a7bf925a3d089fe80a0d1f4facd3b19aa03674c706ae917'
            '6b600efefc0e6bb272e59d066ce0e4bd12209775893e1a6c97bece2f6123eae0'
            'bd8753f7410c9cff34dc2bc7210ea30e857bf132c0696a2f636aee29966677cd'
            '788642c0997c835cf82f4c4c5d5bf937a848081da42548e71b14c0da69174470'
            '46812b757cddc688f266f68a3e415e6b86dc819623961e3824b8f7468d99cb44'
            'df48092d716bc7016626d93db399a5dc646a19d7fafa30ea60d59ff9e74e96bf'
            'ce0a4188f8300e6c56a7078e7ba958a1b54213574d6dfd5dd42481f7f623962e'
            '19d91ebda43294231c9750f255b3ae2e7992b979899b3f056dfef0e58e774f1f'
            '0c438dbc3a92ac8614a7d76fcc4ebea055e29b63bc0af9e8611f6abd3913a0c2'
            '981eb3d24a4db936564aa25920a7217fbf04cd62441e3b5f0808565683fc2532'
            '5562fbd88dfd8ad6996dd0f4dced77a6f007bb660dfa70f07abd56064307e9af'
            'ca573a3b154f04ce5c74e5e5b74b34eb73ea7acb3812e7206936e5081679d820'
            '0f40bfe6917cdd8cb317d29f041e43188e369edc507be734fff7c5daa8a97d90'
            'b546746a7b444f336d364c26fb7184e682e677cd9d2468ebae63eb1972d3a5ef'
            '7931875702d16cc7f3d9ccd21a356bf0028ed0b2d50942a30525711a7983a175'
            'c3caf99d7281d17e89f6259786841e07b18202631e24329b930c8bfa6cc3af7a'
            'b9c023d67c71c730772a50df6e278814142dab67756e7da300c7ac0f2265ab57'
            'f5dc0762928acd44450715e5ad82832186d3e4c23a890f8218302558df597348'
            '9892a1a3f9549a3539aa8c00ee77a9047e8e17ce4812c83f9b7c58724c5a7f57'
            '230ac426ffb4e5d3d353fd77f1bf0fb83ebef9d415d098bef1766727555905a5'
            '4957dd530c3a3ff96a61a198e5fbf43ae06994b684168ca0bb6d8970a9d584b4'
            'a239dc29ad6390e58e1f7a3e026f09da9a5a9a2f35602183660b85cb54cffc62'
            'b2e7272f2e9463e749b0219b52dba2a83a908c65e49fb6cb66a83825e9b28360'
            '304ce1b8f66b84595cc5c090c315405a98a121be02e8339173cab5a625e122bf'
            'ebe6624e357ffa480acc9e4f42e7c31b5218c875fa95515523c33be0f663fd1e'
            'ce847660c55f192e5e26df05f14114b4e65bb4caf88e295a5e9256f95221ea94'
            'b20f3611000be41a8c05e8346ac9c3795de5a444605c623b05bac40303815bcd'
            '69c8f5885a86141f53cf9b8100e4794dccdd3181d006616d48ea24a0dda78b9e'
            '87788d7210230b51ed634e25ff5612638201a64549e96a6e830e8dad35240ecb'
            '9b32acbcea529a3efe170740af22ac6e051f2a251d53cc1b78f159360b11d65c'
            'b4cfc77be96f81b13aa99a571a9c41cbf978597dd146a9c83c30d2bc7077d213'
            'cf61af226f9ca49e4ef8ef1334515feec07fd2d55907960186c1bda2bfbb4787'
            '8ba2cec6f03f7319b2aa533b9549d6f5933a757f65740f2eaff606b23205627d'
            '384fc2158b81aea0c30de7d2841429ea4fce0588b350020e2872281b1c9d9854'
            '1cd4c43c543684f8350f03017e286faba5f61e13405631b4ebb8386fbb6b2dfc'
            '9212ee013bbde5e97480dfaa2ff89c94190b8e549d90692ce04ce209b143530a'
            'a310ed2bc597a0c517819999f7539cdeba6477061a0c0ddd1994620f703e7e1d'
            'beca4274d21d3daa1780c4987fdbfbd2f1c579b600b346d6e2bcd8e2e1bf3564'
            'e59d03ce20a4a92211325bda08f37f1060c443594d9e3daeceae0a93efeff01a'
            'bf3bf9e013634106e7bf2a30680ab07dbf90dbea70cf675d98055fbe86fb1202'
            '569e19893eb03ca67002a4b23a55977b029cbbfc42757efdcdfd564a77010a52'
            'f24b43efe718370a337363f0018884fd05fffd457cef4378b8869e3785869039'
            '4396a86b36dd037787c59f3e6553ff9e2cdda4b609f4d2bee331417d41c24df1'
            '035b6696878e88ec37b45f2fc4f181390000d5121cf82595d70b7bbff8529b42'
            '9fe4598a5a6ea40e3fbd738bc4ea5ec19a03083a99dd60f029acddaca49881b4'
            'e99c679ae658e091bbe85069689e9ed7b2f7e1d9d28230eb85ae1bb135ad0841'
            'fe468f3ae7b237ff1afb8ffcbcbb355eaf480b60e04efe421415dae205e2ed19'
            '68da38197ceaae668ee5ad55bdb5c59d8ea8f2f8d91cba012c334600939d5212'
            '192ff0c9e757ab8d21213973fd364d2a660221e423cc418d3f5e420fa0ac6362'
            '0fbab2b12b7581bd122ca680751420f1543b29be17bcdf20e63d244b049d3faf'
            '412b7ccc324516255bf1fe9523e967d3a44872cf5e033992c82126a0523d000a'
            '97908344d8aa12c3918507b0d8616d075cfb359b038c1252bbb724c1d9e9c39a'
            '74d3ad54047d7488a2e12410a8249ad4fc750c20c1a616dd2e3d5e3ca2b087fb'
            '0182fd3e7472d9fc0560c245250df833a5f66aa9e68047caef3f15d7713aa121'
            '228564cd9234e1f664ce6102455bb4b5128a86e6dbba9ade34fbf6896c2594d1'
            'f7f0904bc189bcdbbceca7229858dd2e302efa362d58ce52fa1a01796d413727'
            'd459be409feacdd6bb9f9bfc8c0ed2be151cdd13c625c4bb8f1e11b93dbe3182'
            '54c1f3eee7386b693bab78bc24fd6f9849b0f02684d3b3b8afd8866ca960594c'
            '38702a121119608843c49b52a317be2efd7be9d7f8c2842c2dc89c344b3a8f38'
            '8daf47d6907e9d7f4c491dfb18b636c671d673ea6bf22566e23ae912286e3438'
            'ba4c94db9bf58aab474590ce80440ef8b0aaf7c69101e47f0e029bbaed803414'
            '8842e0c6ff7cb15bb074dfeb213145b3e2931289a801b1a31a5f06fd68212918'
            'e97c3a394caa29b947120b068b77ecd7cc99b5a2cdfaa5d5bf8c354c017529dc'
            '7d00908d83d4f1005dbe748bf8820a785b6b3a9fad91ee50892168e0e49e6150'
            'd0d368d3e90937ba0d772d36e7c33147860580cea1284b7d525610b6db5c641b'
            '321986e79049ad8cfbf967baf4f12f6949783a4e577653ae3294e5fc1beecf69'
            '4af504105e43f40044e3b91b70e7cfab78f1ebaab6c9a6d0fde0c2ff3295e96b'
            '58c9e14a58f9e8eaa45baf52b2e353d380664e51a26226ff455740888ce879d7'
            'a3f4ce581a2db6e8e7e2f2fc825f82a61c02951010b2d00e2836984fab6891f2'
            'b668540acb4560fa7fed56927b47b432217c1b4e8bd7f5872dd7e284ec9ea578'
            '201fa03afe7cd2d8fbf781799626fc5e0e7d0c8028cfe11a491874f5e774894c'
            '7fc4cbdcd4eac7b1a7c384e45a74e689b2e7c56c975f390f6ba4d9c613c5774d'
            'ac1ec5e83153b04a84f9ec77a9082672eabeb99f11d6e1a181416b42e9ea73ae'
            '459f5f28585708354a91b656c55bda3695898587fa927266c3e6519925e42d37'
            '9304acdf72beb6bbfcd0833fd4b49fba8a8b4f41009afefd63ff6f2622b11dcd'
            'b12f6ca8f81cd87db22d5901d0f2999f561891c3209e7a411e8d2fa6558123f1'
            'ab47fa63b9abfbd6bd01b7f4261e49388914e427f2b254b3de0998a8b2835499'
            '5aa23df1fc959373d86f047e1baf2eeaf889e0ff65ce0b148d978dd1fcf268de'
            '3f5c3fa43d0235e0584dda00edeb62e68664f4fdd704ffda2f3524c78ed5fb2e'
            'a25cbe4e660be77b40760128b7a652e5ca57226b359348a7f0f01d4a270b20c7'
            'd4a07281ceb78e99b322946e3a4af53ca9da6a9cc0ddc716ba14a92ed44b0a70'
            '9654eddac3e231e3b096c2481f41d90d281c0e6f8d467067eb4f7870d5543dda'
            '26c59d58df78fdfeb883444fbe525ed9c9aa0ba6187bc1ccd6550305aa749a2d'
            'ee859336dc828297e7ca74fb350bfbd4edfb7fa1dd02d72b500516f47666f80d'
            '2e22fadb27276260692117a22c8047cdb69b1780d142f8b96fd8d584fa269ab9'
            '7d3652c921a2243cd8200f82a47c6845281d28e63905cf407b2e969a66ad2b26'
            '8976e627d530182268ffe75ae0c354c9b0c3069c69d0ebe330d1ddacef297e39'
            '36016581ebbd011bda984c57e490bdf38d699621127371ab9d585521d9958880'
            '4938b1a41bddf3cdf15fa4c535e083e4ccc6b29312deedec2375525646aadc7f')
