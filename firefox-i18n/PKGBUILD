pkgname=firefox-i18n
pkgver=56.0.1
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('any')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox-kde=$pkgver")
makedepends=('zip' 'unzip')

_languages=(
  'ach    "Acholi"'
  'af     "Afrikaans"'
  'an     "Aragonese"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  'az     "Azerbaijani"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (British)"'
  'en-US  "English (US)"'
  'en-ZA  "English (South African)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fulah"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian"'
  'ga-IE  "Irish"'
  'gd     "Gaelic (Scotland)"'
  'gl     "Galician"'
  'gn     "Guarani"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hsb    "Upper Sorbian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'ms     "Malay"'
  'my     "Burmese"'
  'nb-NO  "Norwegian (Bokm√•l)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Portuguese (Brazilian)"'
  'pt-PT  "Portuguese (Portugal)"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhala"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'xh     "Xhosa"'
  'zh-CN  "Chinese (Simplified)"'
  'zh-TW  "Chinese (Traditional)"'
)

pkgname=('firefox-i18n')
source=()
_url=https://download-installer.cdn.mozilla.net/pub/firefox/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

# Don't extract anything
noextract=(${source[@]%%::*})

package_firefox-i18n() {
  pkgdesc="Transition package to split build"
  depends=("firefox-kde=${pkgver}" "firefox-langpack=${pkgver}")
}

_package() {
  pkgdesc="$2 language pack for Firefox"
  provides=("firefox-langpack=${pkgver}")
  conflicts=("firefox-i18n<31.0")
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}

sha256sums=('6cd6803105bf12af951d4ff8493a4e1a059bdf3d1d1dfa23311fb7f87a6f578b'
            '7041a190186384e273ae283b0bd704af86d2d5488e0334783e96fc7bf005fe8f'
            '026d57b8dd2f7acae0180ddf71920d2c455ced4c69baddc14ace7df253ca2f8e'
            'f76cc58018c91c893cbdaade2b6646e7009b34f7d455612dd8dffa64a1c3ca8f'
            'e62a4f929fbe98b18b8cc880f1b71cc1a81401ca115960d871c1b68522810e4c'
            '7ec3d96ebd94faf0150e95bb24ee8ce7e4b8f84ac52a3440dca732042dc3cbe4'
            '7da92376bff005f615195cda571e82a40587341ed01f1cb6ebdde8ab0366d15f'
            '25354bcaf6ac4441dfe299a05906fc25b9127538cd0c597270f575036259dfb4'
            '3bb5a81539e4703380e1f8e1a2f626c35be2b341ba0c7ef0826d0c96d1d6adb5'
            '9386b7c449c17df157ca2466e92830d3efb45814c329d4b9e31028b6e3d11596'
            '930e8d11e4120425fb3a9df934033aee96c77e2456cc1fb9744f90b484a2106f'
            'bea12c59f899c2a67324dc4a6c5679f5ba1683d28a6cff2c32492b04da440d02'
            'a32298687a6fb33c21cda57e5c49f08b9431bb4f170d136962ea9db4dafaf428'
            'c0545f0c4b9f940e50c741a837850b5943ce6238eae4951d61a411e058d14271'
            'b4803eca84c3d9dcb478f26d88d775aa1baf01ec8159880e99b0300486cd457f'
            '4b841abfb59c5d77dbb14935c98e30c6b8e11fabb12c952b5d8de231bc901ccd'
            '704f8045f0a5c0fc6a35d1aeee64a1248bb15a6678ab2fefa038a679b912eaa7'
            '291f52c9d7eea5491c220a1cf9b8bec51bd92c03aa46cc920c5e5b367e144c43'
            'b20b8f2fddeb50286400a2e2305c67f3f4ef793d0596e465a8e954aec1ba1784'
            '690c081d305997ea8d116a32133977535bc279c35ded95c981d532bd8088b434'
            'fe1763e1c86d954c6ada561a884df22d10e88cf9c6339281b3750155cc05f425'
            '972974aa832d23dfaa1db3340b29d854b2fe854da984e66caa4b2e7e978e0386'
            '91a5938947c2ce8198f67de72e42900ae878af7960712f57c04c65bdeb6b1494'
            '0d74ea30e4b7c693181562eb3b65a0aa794b8d8fab46b09b44b048d568a38e4f'
            'cc6c57ddeac478751a35e895936ef2774140d7404b0a6f77ddb41a888995287e'
            '7c67db46e705329946c12dcb609b54a6e1414c5101db525dab966ee804c77148'
            'dfe8a4b374e9af07e7eeddcfe26312f2008a2fde125f573c2cf8910c43614bb9'
            'e443929bfc96875abfe69950240fde95ce1cff5ac8b931ab7fc25671299ff827'
            '03ef18121b2410f76b8afdad77279467a4352955032928e74be9ad572256a848'
            '4f16af8d9940a69ee20d2fa6c9583c8abe3d4ededa7786d84917d1941c3bd190'
            'cd5dbba66bc0de1dc090d63cd465a096382c53d6565879d2c073c0bc50bb151d'
            '5a6c38c92c9a61bf828951314b9995829bee2c36355bebfb42ac6f9974cebded'
            'cbad541ed4cccb599ee63ea0b2b6ec334af0064be073c22701361fe65f447693'
            'c184ec76e25533d65d108e346d683262155643659d13f0d125e34eeaf603241b'
            'bd2d33948c4d939e1b7251a71b0fe2f89dd8457be5305a81c8327c68d6f3bd11'
            '07dde85730ce7c55bc626618954f6f454526126ddd2eaeadb6a414c001e5f5c1'
            '6c0324afb5ca0844a011d46038a623f13b95f3303660ccc8cbd18e318637b449'
            'd75656800c7532a8de455c8fc5555e0d2b9b071ff2af38f88e2ed4a746b398dc'
            '1981e99400111d24fd090e6d80b9849ea4e79b0b8990cc79b264bcb4aff1a805'
            'cf3486e67e51e5346721cef5d8775b2bbb8a8f362320d7c9bd1eb8a702618e48'
            'a0ed89a0f7a691bd75d779631e3f34e5ce846bc2e55b5e33a880ee393f7e7759'
            'a1ace27047780d181a70fb35b7556896054a7f7669a6b2825b99ce0b956f1e6d'
            '61e50ae5301cd086380ff40edd57064c13ec4ad62782518f51dd58f4e562c812'
            '296ae32c2a55dac38e68d3a62e4a1ee3addbb8c152c49abeab3f73b9fa511afb'
            '92f25de300495784df1df7f94dc4c16012c67f01cd722c7f273ae36d07617790'
            'd62d1f23fa38697f24bd98847fc3e978216a668ca7ec79a3693cd35764216f37'
            '10992a5938779914268c3a34791eae1dc900f2abb9b392269588f46959f68e7c'
            '9d68e69d4db8ce8983430836e6a8cad8b4fb6a7f2dd56082ed455241cb3e5d4a'
            '7568b52142e41a362bb82000deef4adc3c79b73ee44cc2a13d5521575ef6dc49'
            '3d9fd161f2e7f1aaa10165c19ee455eb635f10e72a45696b1b63f908842dc48c'
            '3f4a53c6c894313fa7c0fcedff749902eb154929718ec4f1a2d3b8f4e308b3b1'
            '6d1b18917db1d177150978778b6027b8a52df0ea53b6d954bb63748ac5ca7dba'
            '6b302d409045e4405785472eb5b6f46afd3f8c629fcfef3beac794be8eafb0d9'
            '33567c1193f8c98d72f3dec0a0e78b42ea65f1928d9e322b8f0a480e4d4fd7f3'
            'ca32f3accc38fa6d23ee228e552f11bf7828c049046ba2470705db03c78ae62c'
            '3d5a9691bc63a92b820afee5508bba045887da2fad11ffb544f7af97c9074cc0'
            'cee4aa8d63de2e1329178d1b02b7bbcf9eb457f80af8f28ff3a79d3e2f639904'
            '0216ed9a94f454a78d9c8e1b6f5612ebff02ff1bc2485c7cbb9497f45527556e'
            'b0c9aec585fe64bd40b7cd9e30313f692655ad29439277df93d18f6a27516558'
            '1ebcbf3a6dfe6454b437a562c887650996cebc6b57a6a0139df31a8cc0b2479d'
            '9ca97747a3009c872f2a2a3436abdd3eef9fea6dd8d6aa4c071f914597607cb6'
            '6fa3aaf85c52d04b995e771847e627dfe10eca2c6d723d0a42c2c7d66e44f5a0'
            '3a8a17909d33f33d854294b84bcc51097dcfb786684ed44ef604c9f1a2f8269f'
            '4faa26cd30eb406474eff16b0d803043942a7c6d555269f19a0fafe5e31ed482'
            'bccdaf38cd2a45b2f51d8f5e17edaa1a6275d04f1d6edde25203c7f051b2fcde'
            'f100525150c3e4dfa3ac2d5d6852d394a0ed03c7cc91783e189447a97806c9c0'
            'df1ed8a595d88d30714cd1c4ab1f17d73b8ce7da25b7979dcf8856a2c4f4695a'
            '631e7628d160f0ab8acbcec2272dbf66367799543e4d2a9794bd20290886323f'
            '3b6fa3e259bb0bf5f36ae837aa963fd8592328185c4619676c2ce9e0ea9ea2e3'
            '26f6c53fb17cdc7df53ae3e282623bd78aa129c32ebaae25d35b31ad7e0f2e69'
            'd81206145c5f21aa2f72c478e428fa57855058d7f45ab7d6a165d96b11455bdf'
            '5f6afd1d38a6491f5b88529f7d061d0b0975358494d56d85dd8da305b2c20954'
            'd4bc8cf849f86135243121270566882e44e1a3976aac3237f2d6d44c4672ea35'
            '684eedf06bc7fb1d370fb029b68f1ed114ea6b65114610f13ad3c8f9f408f64d'
            'febfe9e1ccd31e6c500b53d1d83e1cde671ddf122ba995dd509888e45fe957cd'
            'dd8cae43185e636baea610d010e2031c1951ea2e374e424414f02163539e895e'
            '7f8afb7e44855b256fd41ee082208485aa757f151f87092c2ed499b7b9881780'
            '2d34757e9522b1ce8db6e97dda953126483a6ab27bffcb3056c724bf80f4ddc7'
            '07a7996850b59f58e5c78c110de389784392107d1fcac70a449975f4b30bfa80'
            '3eebb40d11489c9ab0dbf6462324616f5931c1d5f24890c9b32b47a754421cfd'
            'ee5489952f109f62eca97601280e43bc846518c4c96a7063c18e8334b9e77c95'
            'a259af95b41a323bb4d90e01788aa1f9ab930c21476909f5aa1759763ad1788d'
            'c68a416ed287711e72c7d4729bba141d535db1c4b67644bfd7bf9509b75fcdf3'
            'd56706cc4482d31a6b528f4d42ea7604c3da628d19ca0faf7facba000f82644b'
            '2fbef0c8284ef3601a95c1418d8bd38f587e76c7d92350508acec1dacada3b84'
            '9695a40e56d9ef697f51e50951df3a4014049592f1340072f667e8200425bdce'
            '6a199ccfb0f3c80b11e75a7a97aabd4820c2f7480a9adaa3c97b07c4054f7f06'
            '7129b0e498e3f9c0e61e5d6a7f69bb034aac76caad19b7e4e7a180c8c2c79b45'
            'd620e4d2f280f0f12c9fea2c18973478629fded0b569382fa477f030f97dbbd4'
            '05851d83eb584ed547f6a38d588d9b09f654d1987997e03ba92dfb9e4f0934e8'
            'f09e2d5bf86b471f2cb1c34058bacb19b09353db44e85ef652984baaf77e10be'
            '612c61cd08abbeb4573a6cbfebeccd2f32c5de649855c037f498f17f1beba0d5')
