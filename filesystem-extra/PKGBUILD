# Maintainer: Manuel Tortosa <manutortos@chakra-project.org>

pkgname=filesystem-extra
pkgver=2013.05
pkgrel=1
arch=('any')
pkgdesc="Extra filesystem"
groups=('extra')
install=extra.install
source=('extra.conf' 'extra.profile' 'extra.tcsh')
md5sums=('b0f054b6c5f809927817b345351ed7b6'
         'f0430380a444da52658fe835025f7a41'
         'db20c7b6fdb2902b8481fdbcfadb1a39')

package() {
  cd ${pkgdir}

  install -d -m755 extra
  install -d -m755 extra/etc
  install -d -m755 extra/opt

  # Setup /extra/usr hierarchy
  for d in bin sbin lib share/misc include src; do	
    install -d -m755 extra/usr/${d}	
  done
  for d in $(seq 8); do	
    install -d -m755 extra/usr/share/man/man${d}	
  done
  
  # Add a profile for extra
  install -D -m755 $startdir/src/extra.profile $startdir/pkg/etc/profile.d/extra.sh
  install -D -m755 $startdir/src/extra.tcsh $startdir/pkg/etc/profile.d/extra.csh

  # Add /extra/usr/lib to the default library search path
  install -Dm644 "$srcdir/extra.conf" "$pkgdir/etc/ld.so.conf.d/extra.conf"
}
