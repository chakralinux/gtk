pkgname=thunderbird-i18n
pkgver=24.2.0
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('any')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird>=$pkgver")
_languages=(
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'ta-LK  "Tamil (Sri Lanka)"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

md5sums=('9054916e6eccc72671d1186e063242e3'
         '1bb417cc2b666b5ce61b6e4cbc158760'
         'f1bcc6bce828a8160afc95076a0f7f0a'
         '57ff2910e97fc0f864dd6586f58beac8'
         '03e491823622a5061f50946fc3bba5db'
         '6e7ec9bd51dafb123e58f2bb1067d401'
         '2eeebcba8a4af1e908e75fa19659d325'
         'e7f5d0f806eafafdeea9e3e1248553f9'
         'fcc3ca5b534157057d9b2a5dae2e2585'
         'd3de2d95694770b30fe4850fe5244843'
         '813731c8d512285d4b242a9bc2876811'
         '80003ee8201293b9ca3e24401e4fadbf'
         '3d55a154ed3480a24285696bc730ea3b'
         '6db6b73119bd6f439c43c98ee7a35818'
         '1bd9d6c5e4cde561d2680e3be49e118e'
         '899ec55cb071a9f6046feffa59502281'
         '7285f3ffa7d107158b7f2f4051ea42f4'
         'd1b90c562174ec8cd17fa6cc01001091'
         '7cef479d5a3e47f11c9230c0446540b7'
         'd6d3c4c2a18d5d5bfea13ec44377c36c'
         'ba025b877cfade48635e9ffef2b787f6'
         '10723efd89a06fc67a633a752b4cab47'
         '7c2241e598fe6c557b431d8b449e71d3'
         '3a1fc36d0ae1147ec9e9e73c4b342ba4'
         'dc11f0f14d9c1ec1adf66f3d32ede0c6'
         'da20b5bff0113a26a8296d972015ead4'
         'e201eb449a40d7ecbe59876ca4cfdedf'
         '73e1c0b8dc3d546cbae41342b0555d7c'
         '644c6e54c9d96412c941a723159d15ae'
         '65136c2ad88f0f7cfc245f9da37198ae'
         'ce4feab0c66bf996e9c49f5ff4baf510'
         '83a41db95958040b0dffb2b85e0fccef'
         'ba4e250df8ea962a5372874addc5b42b'
         '55e335e34b9f6daad7a8123b6568161c'
         '0a03bf7080241dfe95d1985814e98245'
         'de8041a5b35047dace9a7331ec482bb7'
         'fce51315e8f7f548e42cb92e55f4acb0'
         '899bb8f6e1466d6f2da1abc50a2bc720'
         '831dfca01dc3f0f8e93623bf3d6142af'
         '73d35a4560ed19cd6d6cccd33966bff8'
         'ad6a0a4973c71772b13a3ad36457bbe4'
         '650cdec1893d711dcecca2fd9d9859d6'
         '71d57e9a55a5b6f00225a7fdfa360886'
         '3cbf21afb445fbbf6561755170f6fb88'
         '0cb99f231ce6319c2f5c4787b89979eb'
         '0eb97303bb0d363119d3daf8d38890cb'
         '736520a03ee3f6a608be0aaaf2c323b9'
         'f59438e710cf3669a99db3815b176660'
         '08fee29f97000d59d38715cf83038ab4'
         '09dd2bb99de43d97f31f4a42dc3b0b7f'
         'afe99e4fa71f4d78f05062d235f21f66'
         '041306a675058d05631dd66bb54d6874'
         '31da05372fb27462a0c16e98d0e5d8a8'
         '1d69053a5b4933d8519e12b6667d82f3'
         '8c937b15a4b891e22d6e6b27636f5948')

source=()
_url=https://ftp.mozilla.org/pub/mozilla.org/thunderbird/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}

  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
done

# Don't extract anything
noextract=(${source[@]%%::*})

package() {
  for _lang in "${_languages[@]}"; do
    _locale=${_lang%% *}
    install -Dm644 thunderbird-i18n-$pkgver-${_locale}.xpi \
      "$pkgdir/usr/lib/thunderbird/extensions/langpack-${_locale}@thunderbird.mozilla.org.xpi"
  done
}

