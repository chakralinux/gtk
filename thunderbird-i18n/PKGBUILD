pkgname=thunderbird-i18n
pkgver=52.7.0
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('any')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird-kde>=$pkgver")

_languages=(
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (British)"'
  'en-US  "English (US)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian"'
  'ga-IE  "Irish"'
  'gd     "Gaelic (Scotland)"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hsb    "Upper Sorbian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'nb-NO  "Norwegian (Bokm√•l)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Portuguese (Brazilian)"'
  'pt-PT  "Portuguese (Portugal)"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhala"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'ta-LK  "Tamil (Sri Lanka)"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (Simplified)"'
  'zh-TW  "Chinese (Traditional)"'
)
sha512sums=('5adfff22e8f42f1927e467d4912b46558d8db72b7ab34783824e1ce374861000a49922eab3d46fdbe9b64582c186887b491489af4ff9371243fc97344caa1350'
            '5c67a7573e70fb8fc66cbb0c3180ab00387905b7f4b1d03139ba876074a963b96e04c5bd6dc0ee1c6fd35e9ba014220179533e876dd9558351f148bd7cc5bc6b'
            '918fed7ea14d50d04fb375e3e550ca6beb167f5a92ef4cb535c04f1a73d49ccd404a5dcd3d724b07767e073fa5c78ef7a86744d06eab37f5221d73a369f9ca77'
            '1abe8cde30a787a8167050b6309e576906c7049c019281ea900acfa0199038eb736f7643f963256d1158820435f24f2c814a3e893e32a2db6b826b8022df9019'
            'ec9d98fcb0f587a6c2dd19ade3017ba1210e55cae62d6499182944dd7cced262dd8b3808719a425953f46ad0f7d8d3a7b8d54e889bee0d8878b87172a6db592d'
            'c8c96e418f87d7ea31cfc596301233f28a178b34e19a7d6185f2ee8ecf04280e78f728fc408b948bd5daff3a34173f4240305cc742e275d9655311be02d31d33'
            '58d42989075e4ca8165de7d50eafc4b2a7f59849bfa726d945367699f1e08ecd22a5461b386c46a1678e7628a78e90281f55ea4b30a147b5d48acc0869679298'
            '2ac3759661c2e2007f9797ec83ae9b38cc5eacf9a7f3489a56f50fcadc6294e1a32458a5f5f5155fc60b749be17e2f2ab8f1907770bd3b7761be8c22bf0d1f9f'
            'c20a359639b6f4e6369fce17008c6b9a86567e451ec14cc0cb0fa3c4cf1ddbba700e06186907b8995b12ac748711b13a3d39e7b1875c56e5eae3803a5acbf19d'
            '4ca0f6bee5daaa96fc7f3c2a9dce76cff408c7893c8fd5164237468b913f2585944b909cf581cc72d05999a8bd1d5030eca1d4e727bfa8b5bc2aa491083444ac'
            '0f07f2306b3366025a4cb08ab7e3992a6f9fc52e61f028ec81b40d494df80a06d3ac7acf9023f7c615af8020912203ce560c5cac35c79c327c7452ed0cf49935'
            'ceece93d1b52eb0f035de7bdd4d6186ff377915fedb4f00bf71337860aff037b63266ec95a2a00fb26dd5d42e15d5ae3e67e35aff5ef32435825de75b333b289'
            '4e244532c36b3d471923ef9a8483667b030970bd067247cde1dedb335978137f9556e611541236e4cfbaf860589666f89a4d8301c5ba864a3edf8908e4731e0f'
            '9103b73468c1a7f1bb99cf7d22257bbc06f3fa191f1da4ab5041efaaa18f5bb413f8856a78ac0a97bd9bae89f6364bfedd4d3cbf7a5a2e28e489046485a980b4'
            '4645cad4a898e444cf9f8ffb5dff0068ed152be5c8667df9d97856ea520b9bab9a2898a5f3d248ef807e729f3118dc50c3e9a64bb2af1775cd221756b2027a62'
            '43b25cccc0dfa4f91bfe73de0dcf25f1ed97fd012b63d531a0a45c7fcbd06533ad61ccc6dc8c8af97f94f0626587d8d0c90f7f8bef2ff619ce4cd9d26905c556'
            '308b706ab3159d926ceda44b37f69d59ed125e736d11905fc16e168d6a169a26fcd621a7b52bbf66116f16287511aa5984a0452cf509227db5f38bea6ff09ced'
            'ae4c9da0672def6378ab103f68625e181cfbd456f8dd6096debdac9674711946e10eb81d06148d57fb3b3edd3efb12981e06b8ed18cb2a9259654610e2510300'
            '5840b4ca35daee13781aac1beca3be0404daedba85773375131c5cacc431655ee946981373dd8be016bba411886fcd04e2d6cf5c031c7bf16db94743eb6dc54b'
            '76bb8215405eefa83b9e3fe69337f5f3b5365c79cc1bc3d8599bbf8e1018c67f31c2963d28ab3817a79d831174a10d6e4cf369637abb9da52272715f3aeac466'
            'fd9856a0d3378adce66c6b1e54604cafbe7fd34f4c9486ff19d78c694b30ba792c74a8c18cbdaa4284f20831a5fd61a00d620f562208ba2ade9d1f34deb0f919'
            '5c3b0e4e43abd511fe8963a8ffe5979126638383146fa5f53c44859eb9ae11ef8a87ed141fcea5afc55f5f729dae7e3b704dc341985eb18cb8cacbd07e6976ed'
            '5c389c03648c232fd272cfecefd820fc892c787c2eefa5786074b50131facedab62c98eb4ca3303c399b975119249882b696827d8ee2c698ee828342a95e1577'
            '16fc42019d146efe2cbaf59cc575862056a41547b9e9bf8e4151f0b66f9e925ccae33bfd373b37395ddcba7229a8235fc42219b6cbb525291fa3526acb41e35b'
            '7be2b56fd616b1145188bf03a4125d4d30e978f6c3bae6fad7bf716c73043a2a6bbedf5dd0dff844f1d27a2753f12b2043dcf8369e052ad643137c728a0c9f00'
            '81d5c978b874d69f5d416d008f206ff95e6689663a1aa2895071bb717a1a035eb4682596e4b71a4f74eff444a571313c2f23157d5bf1d8af1658a63d9f4bf5a9'
            '15bd315924b4d97f7fed528d5a170057faf7f3a9f205bbb1dd1a48c8098647c485e4dd9f134fbde62313250f065f222b3138dee6b2e66e96c6c8a7468ae22bbb'
            'd9a0407500e0f42f18b5927612f8edf55f9261aff83d47f30c2e9a394c93b24eee39e0a7bc6686e27f4723914c89902c7ec08fbb5b6e2ab0ee8277f78d0dd5b6'
            '20b729ad9e74a6bd55904568404619fd27c938313e2b119859233ff33407a7c5f744ece12e75eb335bcc4a861afb432f5a16fac6582bb47b3e855ea156bb5d1b'
            '7abf492dcd070a6df511177f2b76cd8a1b6ca46ed0d8b5a0263bc15477774354ab91e42e34715915bcbba6fe3017d8c3aa177e00c56c5139cd0a201afbd2d2fa'
            '36b29a38b5773c8f9d25d272a6a46a34efd76c26861b6d8c64fd3a3d77326a72415d971eb7937ed90c5be787060cbe2e6ea725e2a10248061173a93378b2b364'
            'd25dc5fa4c499c9362f19d4c38492f0bd3e9d86cdcdce21c875f5e235b22433de176fa0ff3af8b202620541742e16f4d3f5d2394254471979ce2ca333a8ff9cc'
            'a5e841c37ff17a6039c378ce2bcf57f62cf5d6df89634471139d7f97906800ee3f8a6ce492b293e8a868cb18c3f928429d394c4a36ed84b69b164391ff2ae564'
            '726e80ea09fe34993f9975eb76d752d06f2b982802c48acef7941184363d213f9a7f6b4819462c2a652b78d743e816c1b3a0825089c0dfc42fe302e5f372f925'
            'bf909e5f3051f50339f71ebe82233c49f39ceb858ba481f6874547b19a2d119e7ad57fe6b611949a38acee16380805a959375fcfa793ae1f4dcd892f0d14b280'
            'fcadc3e84d91c6e746f27f0889c8d0ddf9b4d68865a8324c750b0a842aca64f84924d24d72628eae68a9a571b7c5f990a3027b02b428dad9c073be9cb8f17f9d'
            'ee49979f1c2e3ad8f14864edaeaece215ae15ca212a144b4425db190a3d14c726a7e5648000c634985a911d35a23fa8f9007e0cc6a3d7bd5ec61f9fb8f78c2ef'
            '9f277f1fb1af40a77cf4a7ceea3508fff170e897c6882a77c40a3405e596a4cb32e94e07bf9057ddd42f6f16fc94d553f033c69a7d25f2d369d29671812b50f4'
            'a148709005133fbd51fb0659f06142494e62c217faea7d16939ff3abae95e9544da6e907fd0d4a231e7cf499863c62aae929000e5714a33ac167cfaf0432351c'
            'c3a133acc7d7f82a94b79403f6be465976e414c2176d08b67a3b8a8339548b08a513db2c405d99deca13c4130e204e354717f86409b013be00e72d0f216b6c6f'
            'd60d0a25db3ef8fce81241191811afff4b8c23e1578c6954c29346dd52a69236c5907ff31179ef204e92ee9f3ed958518cace777eed5814be4f1131a4e18ffe2'
            'e97444703049d97beb96a9cc0538c72feba772ba365c5e49f05e11d82a32edff1492f9e4109995d241df09b2b8fa5520a306da7c4ce86b5a79cf9e2fddd62819'
            '16542c6a9d8065bf35164550a57a4be5048eb249a4a5f8fc99ae5c05c79e5a84b2db4f565363cce834de8e38505cbc92ce4f42cd1f1927bde2df7bee994d4dd4'
            'aecfbfd31a0731c5a2c89c731d63570ca9de04f9dc01339a9f17c54038852218670c76f969809cedc6b9afd1fa8ce5ee852c0e78ae889a8b70e832a59b2c13fe'
            '1da58f6f2a8da1f011123b8601931c9430877bf3446aa267591180e29e034c6ac3deebf94f07c3ce4256169aa48e6f6e793d10d58afd40907654992e620ac786'
            '734a28b963eb5430ebf210b492cf5376f2988ceb5afaed6685fc78e17933330b9c178bc3a8e96baaff34402da0f434c277f0592305575a1308e7b1331726ede8'
            '957d1bf1ab45f56e8271fd9071a98f3be3b9b711708c098fb46ac2636949696d685892e4ab6392b56a82b41547a0735fcd5b11043377127084ab1895dca10f9d'
            '793520668940be422ff96d680330a6b991ee49107aaf13fe7f475edfc35c1285e09bb4af55a7fe1ffe6839ce44d174cad4c4a139904f7a6c5f5cf733ab9ba50e'
            '55a79a83bec3aff011cdfcbe80f39a927371703e914ffbe43b99b6104e8de77225979c92b7942c4bc74fc222a2c08a90ad52273277ff3d738f687a0c20d66f24'
            '05d927adaffc6ec7d187e2ad62c47a43ba69b33bda764e5196666aabae7127e6ae6e753fc13a61add339df9a794c0f78e9c145c45b5c6913dd29801cdf9591d4'
            'c3cef0085050e1f2bc155858789bee9a699ac43fd859fe4b3ff32596de92483df9f63e27b28c344c127441e51b9492827077e83d77545f208a0c876ecdc53d8e'
            'cd1acab8f60d4db1afed1358866ce2eaae7a032ee45a2616f5074868c4afb08049dfb5014e4fc6eeebfdb6f2f187d0afcb342d89b1896c5484ed6825faf974cb'
            '83d511ca833f6a37958b8b45f33a4a3fe23413efaa04c92fe40f192d31bec8623046ccf669cdcd21361c66f7458923810b95db099267cb1b5f97c50fe70d4c07'
            'a15aa5cfc11c5708b697d82fbc0c9611fbad4cf4cf374fd4b989b8afe687dde1c64c363e18093d6de845ba7ab4842b64661e0c3893e80aaf8c9438e517e16445'
            '6791d3a192d4975b188d4dc713a43726a1d30e5321c69a93b9135d2608e83e665e868b2a681115a5edd17536d5653efde67cabac4d712086df89425c46df5d00'
            'e0f914e55174c5827b887cc2dfb1dd5e63be55b46fb40c2bf6bedcf7b5f06201ca12535e732806f9278d008da02df8ff9cadd01b3b8b893d630e2072f6ef01d0'
            'e3a8b15133484760f6a9acb49600f979f62b194b5c6621cb5ec9805317de49e58a79692f9c69b34f03af119de31e54f42cfd43434b8a0e0fa26082e7746bc92d'
            '9aae56ebd2f3e13f097927953d0a1f7834a68d7d37259a2bf425a88d404b91da9488aacf64bda89bb6e35856e6a1a4e6d26d636915df9f15c49fe5e781a0d35a')

pkgname=('thunderbird-i18n')
source=()
_url=https://ftp.mozilla.org/pub/mozilla.org/thunderbird/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

# Don't extract anything
noextract=(${source[@]%%::*})

package_thunderbird-i18n() {
  pkgdesc="Transition package to split build"
  depends=("thunderbird-kde=${pkgver}" "thunderbird-langpack=${pkgver}")
}

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  provides=("thunderbird-langpack=${pkgver}")
  conflicts=("thunderbird-i18n<31.0")
  install -Dm644 thunderbird-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/thunderbird/extensions/langpack-$1@thunderbird.mozilla.org.xpi"
}
