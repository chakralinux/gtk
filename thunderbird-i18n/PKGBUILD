pkgname=thunderbird-i18n
pkgver=24.1.1
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('any')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird>=$pkgver")
_languages=(
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'ta-LK  "Tamil (Sri Lanka)"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)


md5sums=('f2895e06e454ab92f3c87b06f7ff38a6'
         '6e0e125ea731fbb7ac48e70c73314c87'
         '027bdc5be8022d06918b074dde44ac71'
         '666b5523fb5d553981df8f350abba997'
         '906e32479a9bf75c9f227b85817768e6'
         'b5cab6ab35a3187bb9b365b931bf7944'
         'fd2231af47c822251e76eeda9df54a65'
         'b2bd414f07206526ee21532c1cf3416c'
         '94991b1779a4742d1e1684ae00cd5181'
         'aaf98b7f6464e6c3110314135b391adf'
         'a5ea40ecbfdba8b720c98a90f99651ab'
         '0d3e666179edd71862d4c4a4a26a67e1'
         '4a77aa1ae56bdc4cd6e28fde8e8a48ff'
         '5a5741b99f0976bb9e6d03cf0d0032e5'
         '3a93ea4c29a770693c9a5f542555d56a'
         'a33a0b4648e5ca170b184ba5c8c4af50'
         '9ae7f5804e681da1b15cb37970fad340'
         'b355253cccc4997bfe739ac5d13eeda9'
         'c0f0644f3038d233ae15d899a1f38c3d'
         'b4bf80d4d33ef66c3a91bf89beca3a3b'
         '468d4e1ae6e6c3846612a9d6a11e05b5'
         'de9ba742373e05246cac9a700efddd63'
         'c77fe683237bf8fe517697b5d061b851'
         '3e0869b60aa960d425754c5a232f091f'
         '316f8275f362b2fcd7f7e56b28083434'
         '4fe2fa5572d835310d4ea01cc91eb405'
         'f5a60af553228c22605d0b1e572771d6'
         '86e3b1b76c1bd54b2ebb5776770eca56'
         '07ef036931a39572a1fd2b2ba7b2ddd5'
         '8e8c4e711a1155dba9eac4be647a923e'
         '9944fd7e481c04707c799048d90465bc'
         '56085f03d3c0b33ace4897ba5c3b8c39'
         '105c7df1d2c957999db46e5a8c97cc0f'
         '92e500abce5a7890d7f89a933e60e626'
         '20e2aa9146451b8e115a9f0b54de6911'
         '598f46e88bb1c45d78039a81191d8e3c'
         '1bcf1055ba7ee4da165e25b422b312b5'
         '4f7d8949ad7a8a8e0b6e896fba26e11c'
         '163b7df7bec173045374cb47279255c3'
         'e1ece11c15e201d9ca8b6e003db45805'
         'aa18772130a41bbfa7a7486cad9d8b34'
         '40fb66274114b275b7f948710594ff50'
         'a4bf24cf2e0751042212c11f982b93e5'
         '25c03be49a769c71acd953e50960703d'
         '5f475a2cb604dd4a7105161d7f450ccc'
         '4fbe2d40de8e9a6bff604562aaa905cb'
         '678c8d29b483ce5ea4ca0c73ab08ee57'
         'dbfeb84eff6206a873d17e6832e98e73'
         'c19b0ff4bda1f5d1421dd1bdb06fd668'
         '8827ca4145c0ec789c2871d0cd2e45bb'
         'aabe18f21b9151b52ec66772b67cd13e'
         '74add12450ebba5947f2eac07295fc1f'
         '5a9d9b54c75f3e99be47d8fc48828625'
         '0d4bfc2b96ba93a2273ca14f330db67d'
         '9d6a0e81fe1df33f816469a95b42d5f5')
source=()
_url=https://ftp.mozilla.org/pub/mozilla.org/thunderbird/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}

  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
done

# Don't extract anything
noextract=(${source[@]%%::*})

package() {
  for _lang in "${_languages[@]}"; do
    _locale=${_lang%% *}
    install -Dm644 thunderbird-i18n-$pkgver-${_locale}.xpi \
      "$pkgdir/usr/lib/thunderbird/extensions/langpack-${_locale}@thunderbird.mozilla.org.xpi"
  done
}

