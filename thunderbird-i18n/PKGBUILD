pkgname=thunderbird-i18n
pkgver=24.5.0
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('any')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird-kde>=$pkgver")
_languages=(
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'ta-LK  "Tamil (Sri Lanka)"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

md5sums=('3b682dc819e43a00095cfddb9006f64a'
         'd9ddccba54de30e1010be62c38ec2094'
         '1d59dcba4d624ba4e794dc116a46e165'
         'd4760a0a9b739e7a228d1b9dde9aaa3b'
         '87e30e700d4887f3b5ed450a1fc05638'
         'aa275a3dfc2d87cf0b7fe251e1acc060'
         '8ed38ffe6e166f57e239ecf45e2a1a72'
         '641797cf320b5fdb479b17ed2d458b86'
         '8653018e12dbc823f266a420a733519a'
         '28a6c998bcbe6602883959aa651c6fb6'
         '1e91b21e642a41d23e71df164533b197'
         'd490c7f6eb341a4bfc7c75a606847991'
         '45398ef9853640047bb60a8f4be30b76'
         '0ad7bc3e5629d74f355ef51795892dfb'
         'efa510b68504c861a7ba90ef1b1353c6'
         '4e30b598e896a7a112d88fc14eae5641'
         '1afd146b76c7aa9882eec66b0e92ff3b'
         'c39aa6c1f48fbe6bece851e1ef300c7a'
         'f4e2a5408a63285c95462d12a2749943'
         'bdd77fc47b3a574ec0c6af637dccb8e2'
         '0cb4e3070b8a926bf95979e35633b81b'
         'f1da83b48d226e18830da903a00c9ab2'
         '278dec808c12ea0dc08e8eda6b5fe86b'
         '9f2613b7a418c7b79eef50d2d44634fe'
         'ed0170d58f56e6a9e46aed0d0ec2834d'
         '7ae7e4b770fb62757386f2503dedc659'
         'ade9975aa6a2d0f65b576db390e447b3'
         '5fa0c62568e9cc3b2b34abc1738fa03e'
         '2d4e933ebc7d0f841fec9bbb934b7404'
         '8525821780ac6a3d9dfb9f51f3767616'
         '41762a68cd49ba7e0c989915502095b9'
         '34fcf4e0d11702ff170245dba488913f'
         'b3b55fbc6b6061cd0ee34fe0857e8b6a'
         'a41cd7a38d4fba5e391098b26c3de6f7'
         '7cfc2cf5dd550626572af75cda042223'
         'fcf702363054c86bb20d80a39ae5b053'
         'fb88d57e013d2d38fe5c8c7ee9a9fe91'
         '050ea7afefd1dd7228ceff4f65248741'
         '624e23ddb430d92ff1e22ed8232bef9e'
         '75aa4cacb9cbe96b1d0507df94f0ade2'
         '3f32b9c6b988af97e716925ddf5bddb5'
         'd5d89a06193952050cccfca015849b22'
         '9189c514778bfa9f316ba024c1d579c7'
         '0f5e54d0f9f88249b5dc71098442c3c1'
         '9110e0a2ba45c9c1598ea0ec08ccce5b'
         '409e767c5a3303e989a63148338be21f'
         '66c7ca675060da1f3752820251ee426f'
         '11daaa06f69d7a1f66eb3bdf8e2d8751'
         '3a573da393e5097c0c13fbbd4e9ab17e'
         '773892126ab06d1ce0feaab1b9208fb3'
         '57b6bd0ec276ecea24163feff61d3703'
         '8afdc79f22188d5bb4f2f9a7cc3f5a1e'
         '2cb6148a29cd7f7d89b3332ac917ba2e'
         '6c696f12b27ac9ab6be4a7f5a7e78f89'
         'e15e407af488883e4aaa3e9b2b90ec91')

source=()
_url=https://ftp.mozilla.org/pub/mozilla.org/thunderbird/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}

  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
done

# Don't extract anything
noextract=(${source[@]%%::*})

package() {
  for _lang in "${_languages[@]}"; do
    _locale=${_lang%% *}
    install -Dm644 thunderbird-i18n-$pkgver-${_locale}.xpi \
      "$pkgdir/usr/lib/thunderbird/extensions/langpack-${_locale}@thunderbird.mozilla.org.xpi"
  done
}

