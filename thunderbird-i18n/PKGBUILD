pkgname=thunderbird-i18n
pkgver=24.4.0
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('any')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird-kde>=$pkgver")
_languages=(
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'ta-LK  "Tamil (Sri Lanka)"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

md5sums=('13446442ecf2003ef3c8e902571cc9ce'
         '44a4d5b4d1aca2e9be63a4065aa9cb8e'
         'b1d5bfb088fc31ef1f349af7da866c85'
         '51bb1eed01783ee7b91592e7577ae9eb'
         '6d2a9774781ab1ca44cf4b1fffcefa0a'
         '29d13d4e1f7245581a854a01aa1421b0'
         '9c4379f85dc63cb4534d71f442e8ac30'
         'fcd8e5b879daf285a622b23713797010'
         '594d5fc8058f9f030a44c8fc92d71365'
         '998c896948f77d58b27f49e797fd556e'
         '830af2044b8384b312bf77997d072197'
         'd28510fabfa6ef3bf70a9566a5c4261b'
         'e4effa9576f01a72198f12ddca8d38a9'
         'b2a384f3ea99def27250323d619514e4'
         'b03d820d623d12139fdbd7d11eb79d8b'
         '384a2fd21141481784a3e2ee874ae996'
         '4085e2dd181cb0db8ddf1767764f5dec'
         '6c26d5f8e70f285191818767d3d53c2e'
         '2c7c05f808edcfc827d65dbf67b65ca8'
         '132452e0ccbefd1c06cb0c229b198497'
         '99a383dc627116526d9894fdaf428810'
         'a9129a5e3188750beed328b4649e306d'
         'cd7b03add3074e5c024ea5c22ba4a39a'
         'c34613087c27d9469ee6959a1015a707'
         '1c875808a63e9729835e2751f106bdca'
         'c8762ab83bf00ee2060f7babffb63e55'
         'a51249e8f53a205b70c2166d16479ab2'
         'c99aee0eb1e776ecfa802c6ab64eb9dc'
         'ae0b6455a22484e9c1e2efb756cf6faf'
         '03409a94781a6e043260a124f6233540'
         'de4764e4264200fa1140d14b46f1b55d'
         '404f7045adf8d6796e3aef2362380c83'
         'bb1724938ffd01c4633c5afa4f803d5a'
         '32044a5d637c5c0a04dba96ef4b6ef10'
         'beacf6041c378e69ad7a711487a9c434'
         '2c3de675d0d130f5dc7159370bf8f5b2'
         '36fdf78c910dee4153cbbdca853b2cc5'
         '33cc7ef0dd5f8b9f3732de948531dd61'
         '2a7e8aef2081f03dc08369b84aa480d3'
         '9bd4d48db54943e88b42d349850a2bfd'
         '64bedab12996092e55cf6ec5d1c759d8'
         'eed9e6d75bf4e1a66dae49838f8c0ab3'
         '3f07282202d46f8cfef0e76eba6aa9e2'
         '26bf6705d6789f5c679937720b032464'
         '4ac86721a6605cc2c8b33cdee8707dc0'
         'e8a8f93d8bf8c4f70d9768054af87167'
         '015eddf3ce061e797d4e334a6275acdd'
         '0e2221e37553dd5c713d2582a10f0c7a'
         '50c0a0123375f0012a415c10008b696d'
         '9a83a67348538588c42336e2210c688c'
         '7168ba993b6e2277f29e9df98aba2c93'
         '09cf15965ac9f427020ab3c48166757b'
         'bb2840feb0a1ab9127244548ea48376c'
         '979f76f9aa1af4563fccf755d99ffa19'
         'a98f9f4a78c51bdaad83d0a2af83ca99')

source=()
_url=https://ftp.mozilla.org/pub/mozilla.org/thunderbird/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}

  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
done

# Don't extract anything
noextract=(${source[@]%%::*})

package() {
  for _lang in "${_languages[@]}"; do
    _locale=${_lang%% *}
    install -Dm644 thunderbird-i18n-$pkgver-${_locale}.xpi \
      "$pkgdir/usr/lib/thunderbird/extensions/langpack-${_locale}@thunderbird.mozilla.org.xpi"
  done
}

