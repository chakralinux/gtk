pkgname=thunderbird-i18n
pkgver=24.0
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('any')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird>=$pkgver" 'filesystem-extra')

_languages=(
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'ta-LK  "Tamil (Sri Lanka)"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

source=()
_url=https://ftp.mozilla.org/pub/mozilla.org/thunderbird/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}

  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
done

# Don't extract anything
noextract=(${source[@]%%::*})

package() {
  for _lang in "${_languages[@]}"; do
    _locale=${_lang%% *}
    install -Dm644 thunderbird-i18n-$pkgver-${_locale}.xpi \
      "$pkgdir/extra/usr/lib/thunderbird/extensions/langpack-${_locale}@thunderbird.mozilla.org.xpi"
  done
}

md5sums=('dbac488d9cb2aaea657914d7f0822935'
         '9e11796d03d7e4f463691d893ebe6d93'
         '014715c07cfbd0d2a46b73c9ed9aaa78'
         '25569a7049a58f61bc1279879df6e8cf'
         '69cac2e1e43fa600835a510f68299213'
         'd2a69beb8d036df47de96db3c18698b8'
         'e1432276c14856d1320d1f55d626be5c'
         '6628b4dc2aae0372c6f6f6c09dde6b59'
         'b15363bc73eafce5d1d2c838f572034a'
         '44840a60ec0a5f8a0645586748072a17'
         '5510072a95a63ab465e3199177d4e9a6'
         'b16c03a74437edb748179c29b16f1ac3'
         'a6c49a087b692b210395ab590ebd7b8b'
         '1db72d006f4a0f703d7fc34ce573ed37'
         '1f8c074e187fafc026ae9e1313b635ab'
         '4661c0bc90a4b22ecf8feccd85e280e8'
         'd967a358e0820825e636ec4961365dbf'
         'ec84856cd2c8690253c24c7ab4486a6f'
         '5d6fc43ea1abbe40cb1e35a3a3317d95'
         '44ebcb44312c84c819a9d5d30ac8ef42'
         'bdd4f96209966344ec0025a530782196'
         '41ea9249ca46df7913f3c444c7d34a86'
         '161d04397b4101030b7c5b6cb47a073d'
         '42e2f3c87d3bdef095ff2eb5623769b2'
         'a5ac1f05d6a7227ec36941ffc155a095'
         '2b777c80d43cb3a9c4ba22c2352df1a4'
         'aaf97f45d20c28aa24f992acfa15fad7'
         '5d4fe64c5132f6f7f99004b1a758abf3'
         '14629f79e019050766744ee4b7833422'
         '8bf2057ae40413961ee59a037060af51'
         '40459335ad322a0c2ea48f446d888a82'
         '492eba55a2062dc408ae3c897a3b3f40'
         'b75119bc5bf7e519c7657a07938001c4'
         'ca628b9a2830afb448ef789b66d46f01'
         'a99782e372cfdb9f493323a63871d129'
         '77c121a0baf8e11ed6d2febd3222117c'
         '1147b49ec922ca365281bc07d1a478fa'
         'e9c662fced7ef9ae2f52fda0279ffb28'
         '4c8c51f2d90c2e2fa882e4eb6c2855ce'
         'd3059fca278faf57526e830f75ca19ae'
         '6ff2131b953ea6c40e7b8343b57298a8'
         '373aecc67777363ee3746f0d23827e5e'
         'c0acc8a998c78a55f885b493a8a36584'
         'be7b84b72a431e4c7bf1b5e949b24e44'
         '17e291aba55db38f5ad6c4107a0a4ecc'
         '7e5c096e3eb5d972adfe4135a34c388d'
         'ef6cee85e7e7f770c330efcda57f4a1f'
         'dc8bc9e883e2f941f73c0fbbae343a86'
         '28dc6d6a9f382885c8f8eda9f4ce90e8'
         'a6bbdec00ee17e4c22f1630ba3e0afb7'
         '88b8af5a0b24fd4b7a48063fd9f52706'
         '6cac554df4298b1ac8a24e073c2720ae'
         '8a3f2777189bfd8e2ac0046ce1a9d65d'
         '1aa7675c0d8d92416914785cc45445f0'
         'e342f978a8a0128368b974efeccfa823')
