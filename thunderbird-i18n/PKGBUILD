pkgname=thunderbird-i18n
pkgver=52.9.1
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('any')
url="https://www.thunderbird.net/"
license=('MPL' 'GPL')
depends=("thunderbird-kde>=$pkgver")

_languages=(
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (British)"'
  'en-US  "English (US)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian"'
  'ga-IE  "Irish"'
  'gd     "Gaelic (Scotland)"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hsb    "Upper Sorbian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'nb-NO  "Norwegian (Bokm√•l)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Portuguese (Brazilian)"'
  'pt-PT  "Portuguese (Portugal)"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhala"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'ta-LK  "Tamil (Sri Lanka)"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (Simplified)"'
  'zh-TW  "Chinese (Traditional)"'
)
sha512sums=('03d93c275c0e38b07519bfbd893118ace69928eedde0d236e72c6900aafe2137641f76155a0e02fcb4b9185ff8e49c04937022b75b0e85d7ea9de05b90e2d727'
            '689911ecf9a92e3dd25eb305fc3d1179b4739f608e3be67c5367da3fdf0508951b816547333e1b2f16dbc20afd0407996b933309b6eaa3bca2340993a6d475a8'
            '6ca311620b04a604801771a40a7405aabb2499624dcb3bb10eaa3f0a6dcec1cb8c2db3f9ab51b1f505b164be89bcafaac1dc0cba3f3f8067f48c4dd61852c469'
            '0b80aec2e54de435b74e5635ce2bef6f8546118f36346b9a845fdc8cbe653eb99ca8bf10e43facf3bc443de99474f20c39ae3d702e4c3d563a6ecbe2d4131d67'
            '8e560ccb37a55f3b538197a84b38494ea73454ef0fffa41e5c473e0efe4814b41f6d1279e75ca79d5c0370bc5717fffbeb20a544e46a5c42d9b837383c44e23f'
            'a492e7842fb8219fce68727e90b7fb5a94c245186896c519a72e67a5ce4b04b3dd11d1f635c3262978c9ad64be14ae26af7f1c7e8a3295c297eab4c47ebcf73b'
            'a2a49a478f8474d7a89fe9540698890071402148624804f585e979784b244379ef751b9d1c1778756c8ff84f8aef3b42a4c7e4b4148d46a997b1457de52af3ad'
            '2a90e406a9d075841908090a0121d97b0196d5128ebbad3e4ed5df499f859fbdd2822b1916829659ee1feac6d5cac87763de91c82ff2529ca5ffc7540788b11c'
            '60b2bc9d44eb0d62733b44cf581ad9100ef8bdad69c3941624d185855834e3ff4626b540b3d4cc92eef6b2003daeb13b543466a2b2a5ebe267322de39be58ca2'
            'e310ab9d668162a80d3a8903d4ff40954611da9e257e44736150377a171dd3e53364dc08e13bd329929566d8f06b1b4570d8650c3292baa8be96d3bdaf18d81e'
            '3fb485594238ae26e79e81db2abb8037d43c7c090c6486a96bb9364374d7efd030a51a992e427f6d583b81d72cb356e07bd4d44bc93c95a971560cea5cf05d43'
            '28e0edd3c9c9f3ef31342fcef700bcfee8ab7546bc765330de1ae7352c2838e273980c3912fc0163fe5a4e50a6d1bd39798aad8f2fbb8f04df22e2260939b794'
            'ba3f35452cacfdd0327540ab1f48c45dac7e3204ced2a08dafde1b97a6b21653b7e11f21fa027a7408287fbb9854228e328283784a7419057fdbe346739c2834'
            'c88bf8b7b45582cee6d391ef2e793ca6d931a73dd901b1320c266ca9404ccf875092b5e89c4cf5f3f2fd8d05f6fa37eccf493975a7e4e62b7cb2b445631a87d7'
            'bec7414f6a223880e0b3b5c350661b2365ffd2eb4b6dc112e9d87e6043add82bccea49bab8715fd85a5f4349cfb7c42cf62a1c204125f98e8e9a3f64cf399ff2'
            '621c4b2a1afb1750328cdbd86445fad394a45d610f7a59b1e66bfcb7d92c28ac8eec47662906b461a9aa2f51a8d445c86591ffdacf8455b7bd4094af90924ab4'
            'ebe899cf7b21037701690c5239d8b3c28848dfe732b550177ef645e8afb8df900a4edd665625e33ff10e14451b6509537ca5c4c68411cc12939a5eb54bbddc95'
            'f135b4e0c69fe039b2843ea3d80df28bd9b1d542233935bbe3b4564a3da88d33f07bfbb4dfbe0bbde5666f7621056022b6c9e24a33a25d08b2f80139e064626a'
            '7bbbde796dd3540fa52e0867e3ca62d4e8afa52899c77a1972b13f62a04625673d9493f2492725802908e478d611ce428bbe6aa912e75af64178033c5f298ca3'
            '8be41b936ac46db288f31d49c42d7c1530b86206fe6272e0a83ecf2d68f025046ffe0241076f38bcbe55b52d982b60c15027e82fa108a3a3167838fa4c35159a'
            '121e73d4c91a180fb1a7159525274e3e81922828cb01d06ec5e939458f75d12fecc444e6ee06a864c1f2aca4b6d7234877606eb3d30c2d950ef1daf0a68da15d'
            'ddee8c80ea0bfc8c3644ff16b61b7b9defbe000ce0d59020b776607f506970a6a94752d14c41b487214ed0544ed1aa3c87e88810763709a0a13a7e3d64319753'
            '7eb95bd2ebe319006453d9441eef83c72f3f100930770990f0a3401757c277de62258910be4b4c4010891a5b335a7455895845ea421a99c2591f1f51f0a8f2bb'
            'a37053cb56323ec9455f2c0605ee178335564b57c1d5436b58fedf2b30f6ff83f5803380925ce38375b24ded47268bded1e395aaebce56d985da27182a69ccd3'
            '156b89f7a27b6bc6ba17c889c23822188770637f9a1bc0cf025e59abcb0558a60d8fc22567f4e45418fd095b5a1bb26b2d7b5eec9923a8c9a81ec5f6220c4b64'
            '84d6b327bcea27294a4b9a1475a516da63cde3ba294026022a23813b4cbc60c8f99a99e7bba45381297277b25be3211dd12d7787dcf77af6e475fc961914634b'
            '145885b1a9e938ad7668e080b7b190e5755da0a88115ed425c110d630d3eb6d33a822badde7817e0c5fa3a695c462c903be0999ec98dcfebeaea2258c4c7f3a1'
            'bb35005c9d4a7845e30f0f9f14b2ae71df3442720c5cfb6bbe9566dd1ab532b3f82a60090615e10c56b601913e2709218091213783302b2c84a6d04aea1fee50'
            '38578e0cac5fc1ff7cf9e5f7a7d5cd78771de734b3fd007c2306e963465fdedcf1032d0b5b17454d9aa9971ed95843c77178a4be4e08821779c04afff5eaf559'
            'd3cdd5c47254728a358e0a5ceb775660ad4e52fea6b35f8a885650662c51d3e8c3c801ad23fa15c5d8c8620e2581010a09a53b90bf5d5383f6ccd2ea2499f4c5'
            '282afaa58ba6112217d1b2ec26d0a4f792af4d7c7201e7d900d9c558e7e2f709065f65909158058d8bade7756a6f611de06c21f974fb461d9321df1a8202d121'
            'ca34a1c0645d4e2a847055c47b2a507aeaf0b9ee8df24f58459f57ef7cc75970ab2caf00d4506420fbb15ccd277fae25a57a8b130bc5e1ade72cbf406f17209e'
            'a80a004d18d6fcbb1656d8dd95b6d45176da601b7c00f8e62efca7716ad3887ed079e58bbe0f3b6933fe7338324c1cadb95930ec721a19c63d8ac01844a7aeba'
            '6028b000a5c855a90f985dc9bbf49dd17f88361fff17eb49becd45e8bd6b2b98123b5b253df91b4b851500011717c8cb46c9b278b794312a4ca8f3f2ca06d5c6'
            '64187d58dbc54a464b9271a912e81cb7f3201c3b34df7a6e41869495d5c6495b01d7cb93634e41e184bb117de84fd843c48aef62c272a9bb95cadc6b7f247fe8'
            'c4fe807b8fd74abeabcde8190ef25d7bfac5f9783c8dcad39fb2627c8b8d149c44aff8652e4e5496d6921f84ae988202a67c0e3dd5605bda77dbcc6df41578cb'
            '7ed8a486013d3ea0ba8d4ef357ed640152412b07da6a376ca277e6a2e138c1594b50f5a0a984adce6af227e0b2634f056aab16d528729efb5dd94ea016c47dfd'
            'f6e47d826a7214c7c54fe56db9b79feb3204504dee4c05ab9816c9db36725ac1c76f1f6e328fe296e1a39a2d8f0fdd4320401c19c9f087b8f76cf14a1c19a5b0'
            '1b15161baf948108e481432262de8d852b58b6f258870ed8e32895a16d8929ba7097af4a26aae3d89e2047118c36f0423d02bbe754c3b1b2db5163201ed024c7'
            '22ed1a5d0068437680586f9cc28546be38a1bfb32fbb057e0bc26228b9b4cb440e4693956e6e428465f2d511f4a690895ff6a878f5eee53eec3b3088ab75b6e7'
            '12bc800b8e4856e2323f864d38b347f80d401a3487966ae4312e807d4a455d7fe5061e9d6bcce6f109cc57bd29ced8dff469343cbc2db3003ff531cad14c5cdb'
            '4472d3d0a6a8309b3fbd9e2ea7758716315ddbfa69e9ec1126a68594700d0d5bc90c9ebd1c2865c546cd05dc2236cdde643ddbf07fcb0f2e411c79e4903bb877'
            'd12ee7a2d285a8a718c052dee4e39405883a5d375bd1da82d2725ce8b82ca7b54a039471e570087674429cda524a2b74b4163f2a4b7eacd5b7e9fc42f172ab24'
            '7f743f1758d6f5d89ebe60c378fcd458ffd28effaf554c45299e35493b9369e289289415bab09d0468970b2d448260f146692f377f1211a0871118dbc23c9385'
            '9a60510fae45317e552f0daeb6edaa1b3b700386be51d813a73e5ea44f8f476ed2aca883c44d10237314d1ef59472a24ed305219dafe5588e52f13a4365853d9'
            '3e836cc057afea31d9165d68c44452ccc39999a292bed6efdb33d6c3cd49a4d3363abfe5beff1c56de2b7b167f9cfdf0c03711f33b8faa27901dba37e3dd37c1'
            'f4dd684686cd1cf929b04679bb30b129c7cfd70bb757d7e426e37ce4d8fdfa3a34add0e84604a565f360ea6cc1d1a1bda03a5a5cad81b15441d3352c0c93dff3'
            '3b9b0db7470503fba77b58f20e9f1fcbcb0217397fc41d523f8cf78a5e7dc62d1254e80e708cb069e37fba7bdac961095546cd4d158552a5446ed9b9cdc34bf6'
            '9ccc1893534632d640a07a1642cae9eb8c3e7c525848535d8a42bd6e957e548b32af69de7b20ce44610acd0041b0d9299085af78a16b4cfdbb3b11d4f8737875'
            '1e12cedf57b105388836d4f89943c185a1dd246207fe05e05daa92469bee00a75d545d7b453deb32b80c640212cd74cbdf0b2f155ec3040962630a4efd2535c1'
            '0de5b43fab259f7d0edc2c98a6004a2ae4d5aac365b4c6e0a80ea0c67d979dc67b71526a9de3a88cba5654287e23c5b1c76c00889dc6fe6a45a49a9f214ae6ab'
            '2e97d417616d191657c2bd025273fba996d38a1d273aadc17b60fa7e49e7e0396694997aee07ef9c0d16f520e1797e582b485ed20d9be71134a51dcacbb943f7'
            '06f4e3deca16a85b904639bc80736f2ee3d10e4339f8130f53784f2104cc6a98c2ffae5ace09dd094a96f626fb6dff72489432f6efb82c670782d83eb28ad20d'
            '4419c08c1338e12a046660666157bbfc19e52e17be4158a6b5a8c100c41fd4a9f3d8bf167e0db9d3e6bc0ab14db74d259cf879577018d917c0a81ecef8274663'
            '40a5179d4777c93482756c4c39bf27d4781c63501f113af4fb2aead6cde297701a9e0f7eade31bf66b5392d8446bcb091b5a7184bce57faadefb2143d18a808e'
            'dec44726008af723e44146abb89754f9fd0684e3cce0f0db07c05d8a100a8a862e5f7ad028c0f7d3594965ec35251e7c357ac212fb78570463bd8c18174658c9'
            'db0c8a338df861a43563c70fd73768a5db730ce39e7a8400de44ccada3edac1f7e3736edee5cff439df76ff17f2b4838701e95fa739f5aa04463539516a86f0b'
            '24f48563439450751066d49f609ac4df9d7e31d7cea36ce8f2ad8f38b04fc4d1be99d50463700c4ea2963948b0ec1c1b5323cada6a3b1480f1debe52d50c4f1e')

pkgname=('thunderbird-i18n')
source=()
_url=https://ftp.mozilla.org/pub/mozilla.org/thunderbird/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

# Don't extract anything
noextract=(${source[@]%%::*})

package_thunderbird-i18n() {
  pkgdesc="Transition package to split build"
  depends=("thunderbird-kde=${pkgver}" "thunderbird-langpack=${pkgver}")
}

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  provides=("thunderbird-langpack=${pkgver}")
  conflicts=("thunderbird-i18n<31.0")
  install -Dm644 thunderbird-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/thunderbird/extensions/langpack-$1@thunderbird.mozilla.org.xpi"
}
