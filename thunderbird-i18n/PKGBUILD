pkgname=thunderbird-i18n
pkgver=24.0.1
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('any')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird>=$pkgver" 'filesystem-extra')
_languages=(
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'ta-LK  "Tamil (Sri Lanka)"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)


md5sums=('10d219b5836613b2293a45ff25241e26'
         'd3ed613e52938341ca41b913ea442d1a'
         '6c9d654de31863cd91e3561b29e23157'
         '0d1f89a67130bfb447d173fe70e48ffb'
         '88c0bc47e78ea68c44dcf273da6c2bbf'
         'd757924b425f0c9f4473cb36697128d4'
         '901cb8811d3444e34d24f3f220f1df3e'
         '1d6c7e7c0bfe165b9cd69140db41d705'
         'dab8114dab27ecf8788478bf9109a738'
         '717d64dfb57243dca7084c69f1d48815'
         '3523cc5bfa91d8506da18462eab5d0a0'
         'c0e11df6407e5daf49f16997b7a5fd60'
         '331754adaad8d5193a588f7f05f33edd'
         '8017cbb5175ff55d2ca66a5c7164406e'
         '6cacd5a486063ab7af6381a36f38e788'
         '9ce1a941557803f54d65cd4e6e441bf0'
         'a608cfa1d05fdd8373d48ff8533688e2'
         '362358b02e56d24062a418d3c08d456c'
         '4c1cd799194754cd6b6f5e1564636bc0'
         '722dd15aad39ad5d49cc5cc8774b8f90'
         '459264b54e39931fb34859b0098d4430'
         '7aa3788c1ae7c6a1bc8dd84613e9b47e'      
         'ed6debf4379e28d3b0e05ca671635249'
         '9ab26751c091b367891657ca3234409f'
         '9820ee5fef170576b217671421966124'
         '0a4c102e5bac436db6c1df137b6c3335'
         'c719066cea4d82e3d69a1cf731452612'
         '2a365079d829b5aecb9661c8e09d336c'
         '32261c3c3f6316d0df5dca0828888790'
         'b95f074bcd7ce89750e4a5511b394cf3'
         'c91fa5172231a2be2770ccdd8b3e1149'
         'b6831fe3323e51a1af31690d20e39c9b'
         'd72853ff2716b320ccd5b67b62c986e2'
         '4727fa6001f4db7067a40c650d8720af'
         '144067764ce56731bdf81da9d5149bae'
         '012e51d09f59bd7ffb2ec6367874804d'
         '51aa7db7d3e4e2468d85d92a150ec6e7'
         'ab18c811b52988e36b6b6eb862d46600'
         '7c99cfe872434f35b7bd2049a02dcd39'
         'a1c0aab05082b3fabe2d177c50628bf9'
         '0dbc79c1abbe5a843700ffeb98827bd7'
         'bad4f956200184045ee10d92b7ffaaf0'
         '63dbbea544332995007d46f05d47cadf'
         'b795e560cc0e8402e6982a7b836c1762'
         'daf72ef376711162a145f321802ae396'
         '67367b0bf648115a711d5d3255f8ac8d'
         '854b4ed082a0212aedb02003220174c6'
         'b99ecfaa9877619dd84e5b412dca5d15'
         '22839c2abb0f114a43a0d0c7f8bae3a2'
         'ac994d9910782432f0bf7bb0ab060f10'
         '3ebef09367dae1f42b7704a9bd4dd241'
         'c51178288a2baf15fbe7e478410a28fd'
         '2fa19ece76395553b74b4fafb8566130'
         '7e4fdc259658e5dc96df7932a62e0fd8'
         'e766ff8c08cbf743d84462acf16c379e')
source=()
_url=https://ftp.mozilla.org/pub/mozilla.org/thunderbird/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}

  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
done

# Don't extract anything
noextract=(${source[@]%%::*})

package() {
  for _lang in "${_languages[@]}"; do
    _locale=${_lang%% *}
    install -Dm644 thunderbird-i18n-$pkgver-${_locale}.xpi \
      "$pkgdir/extra/usr/lib/thunderbird/extensions/langpack-${_locale}@thunderbird.mozilla.org.xpi"
  done
}

