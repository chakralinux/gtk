pkgname=thunderbird-i18n
pkgver=17.0.7
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('any')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird>=$pkgver" 'filesystem-extra')

_languages=(
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'ta-LK  "Tamil (Sri Lanka)"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

source=()
_url=https://ftp.mozilla.org/pub/mozilla.org/thunderbird/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}

  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
done

# Don't extract anything
noextract=(${source[@]%%::*})

package() {
  for _lang in "${_languages[@]}"; do
    _locale=${_lang%% *}
    install -Dm644 thunderbird-i18n-$pkgver-${_locale}.xpi \
      "$pkgdir/extra/usr/lib/thunderbird/extensions/langpack-${_locale}@thunderbird.mozilla.org.xpi"
  done
}

md5sums=('0fb2cf8825316d942991ea9062cd4ba6'
         '0102213a12f72cbc01ba83d7a217ac86'
         'e87b60103f94fb7062d0f718b0ee5b6b'
         '95423a3775e9a7968a4b5a6398b1c2dd'
         'd38bdd3301d3a4b312087eb0dadca954'
         '59d829291c3f60cd49b457aaa537715d'
         '6c508a28b13948eef2c6a78d606a741b'
         'f020def6665a2643df793f45713cb232'
         '3f2adef1c2bb37960ef381d250282824'
         '9b80898b100c153881197e05e92e923f'
         '937f72ea852d22a2dc8e7b4e78e3184c'
         'a0c63328b0ab69fa8e54d31de33b7d49'
         'd60a7426f1171fd4ad68c9571f1d04bc'
         'cd3fdf39a23cb48184feecabda7c76c2'
         '3e5a27176ba474b7d197ecd45335b1e5'
         '917cb56a8c95e4d7e4d71ac528a7a028'
         'ac75580cc1050b435c9786c4afbc1dff'
         '840c9bc167598dff319037a84387a624'
         '8cdf485f37232651bc9da993f252cdb1'
         'dba576ad37d891677012f54876242ea6'
         'd48dec3194ce97ff000b83b1543606a3'
         'ca9f328655e4bfd0c481a184cae2f710'
         '551d6ee04aea405f4c6f05da83a5b68c'
         '04882050a984cbc3f0a6323d53a31a5f'
         'f4e2ad11a19242eb2fe23ab865bdde91'
         '91f71afdf62485e800644acb92eb0164'
         'b9787dfba3cb34ab63ae808d330f45ce'
         '16141aef9294bbee2dfa7bfedd9ea2ad'
         '0e9ea2e7d876d61da69352190bb3bf50'
         '74b962d9709de8f39cef56295efd911a'
         'c4ee2ff32f13c8ae2945e9b8a88c41a5'
         '9f72cf427967e055b305ccb5be1ab2d4'
         '7c1bbee10595e03d645c8ca07197399b'
         'a6074e32a30329c288346e20a6c22d1d'
         '1ce99ad3b75bd0c3328bb9325932aa4c'
         'bec6a970500f11e90e0d8f6917733a6e'
         '555d0aa401488b858a19f5723f978de6'
         'f38e29320523a1e2f0ee225c1461938f'
         '06ff58e43bcfedbf609442aaa49f7a71'
         '64f9eff3047268402b9892fb65b786b4'
         'f3b0814b9b91b2dd0b9858a0807f8536'
         '19b78ca4b22d58bb0760717b591ba3fe'
         '842567de3eef443db146e449c701bfe9'
         '87b0d2c57766eda373e6156b28763ba1'
         'cb608d0830b94f78285347127f64dd4e'
         '26d45a5b81581cfa0071a0926e77c78f'
         '591345b762e5b37d5b0e1ec191f701cf'
         '8a366a67e6d2f19f055dc692ccc4c5a6'
         'c97f138bdc748e0439e1903fe2f90c42'
         '22994985b7b8b0a5e14bfb0c1d7f92cc'
         '6d1b0128ca17c3e71a1529f8e881abb7'
         '9a7eae952fea4495dd332a2b8c1a6465'
         '72615199b8de893024595a7b16baab35'
         '788056b38767e75bc958bc9639c6d60c'
         '447de0b2fef79900ef94729eb04ba081')

