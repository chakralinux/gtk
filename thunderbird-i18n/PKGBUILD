pkgname=thunderbird-i18n
pkgver=52.8.0
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('any')
url="https://www.thunderbird.net/"
license=('MPL' 'GPL')
depends=("thunderbird-kde>=$pkgver")

_languages=(
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (British)"'
  'en-US  "English (US)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian"'
  'ga-IE  "Irish"'
  'gd     "Gaelic (Scotland)"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hsb    "Upper Sorbian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'nb-NO  "Norwegian (Bokm√•l)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Portuguese (Brazilian)"'
  'pt-PT  "Portuguese (Portugal)"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhala"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'ta-LK  "Tamil (Sri Lanka)"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (Simplified)"'
  'zh-TW  "Chinese (Traditional)"'
)
sha512sums=('fbf320836fcb9fbcd71ba529f4279ee008b08ccc7264856877068c8eb3de6199a8e1f95ab7ca85727d7ef0632bbf46d3d91d00c4dca67e09e0a3597f5225f56a'
            'dcdc1ebff99e7afc4d070a6aee4227fbd98bc04af8b3c0b17d44e2e842fbf93b1114f22b1943f0dc2b6572bdae5feed61733c6cb463cc720046efac90ae5dda4'
            '0a7ee16c9f6bd24b44d6ff9ad6d933ade89ee4d39fc5decf982cf7b25cdc0b5e00278b345fb35bf8fa35f9319474ee2f3366f8318bfa5d9fdec4b06195967189'
            '5e1c9610fa9261d05ad6ba9821aa406e07fd7f8f6db2465c19a635d450d93280e889c4b97948910baf545c5a60687f758ea598fc7806fee2abd85f44338966d7'
            'ebf1194badfd0767d6744154decd275b079f3e31d3295e9ee5aa47d034c0a6e961489836938ab9e6402a52a68efe74de11d3baa44cfeeb6bc32d3f56c116845f'
            '432a52847d20e48d1b9910fbdeb5a01e7248bc929704f00024f0b284ffc3c1cf4f48f13cf730f9e8b3588d3370e42d734f970ca74b2e88b81c66205a8a4e79ee'
            '061e82090625d3161a58818c31a446de662499bc545294446148a389a44c862b40ec0d3d6b480a24d37cabe7867c3c29eaee4ac40a993ec1b837b45b5abd5ff7'
            '0b151713a567dbfd873d6104ef077ca4f0e6daa20a0e234eddb40d6f8fbc9c40dcd780a4cf2d84c570dd2004c7beac12bb61e19d975c8668b176bca18838ca8c'
            '318c4cabace7209adfd41f6c14c3cb0e03edf9194799903d9d4b03a8819e314d65b4fcf5321a27f012a8eecf44308fd566737eb4e6c54d2a2d4deffca63a0243'
            '1aefaabbb16ac6a56a18fc27681afbd4ec7d3798f87743d55a04a1eb24e59ad1517b362af992cab50cb8e11b77c6c28e329e78e37a84faf05ba55612308c8dff'
            '78bd4a22226387a9f106e9a536d916aa97f162d6ed6d8db455cc0db78924696becf9ea89d3feae2653d5e5c981d2d52457d3f29719223fc63cd488703973040c'
            '3c77a7f5c7f6305c23d845b2ad01432ba3bde8351da7f2b4560697dd44445f2b7dbd9674d82ceaa7447ac9520b207de45727a39ff5dfde6d44a6d83aba80060d'
            'b0e8739ebdfcbd4f7a28d06a3739ad05e65a3c392628d0c127ebfdaf5e889ae439e185458dcf4d0958ee96b969114ef5438e14bb25abd56ecedfaad4c5f51bd9'
            'dc6ca61551a6c5c0268ad4fbac8c5fe97ef632ba8b782e0b5a882caca0db5dd36ca194c47ca8d2897639609abc5f0c396f332dfdaa9dfd062d31e4cece6bf1b5'
            '1c93b8d0dba68c2834a6fab56dbf4470a3e4ac228f095944b0d204333e61ea1a4a54ed628fe688b3449e02fb0af772b3bf2b5a6c84f2168108010e58745261ec'
            '2e3b5229ab92d8e20c47b6b5258db42801e6780cc714457385e81c0b5195632ae8a5afacfec7afe9a7cc7f500e34dcc7cc6d7f008704161696a4fb22ebf7734b'
            '1f65d35f272a1a91a26cde39cae23c959e921d2706b66cdde9d3a8824f8a9169b65fe7f81165b667610907e871d42495afc95c3b7341dc3139a7859e2eac94d7'
            'd90d8acc40160267455304e63f6594b03e9a32e15646be0bb5693de57c521b2a2b851acc0cbbe6fd471910d5da17d373fd7d9848186b77f36bd931506154d7e6'
            '0001d6ac27631657165e5db8f296d2c0b2ca47e855373019fd46f10053c1090456118867193370add05efe2597298227bb1f42f6fbad9fc166e3212ef77c6201'
            'fc8a8c681e47ff26f17542304449d97100af3c7d6d7aaa48e356f256ed4818021007ca07a3fd11a9502f2311c129bb1c1cf1cfc73f03b01c66f0b476afc51c08'
            'f6ddd49e8db1c7491f329f5270dbe04a17db84863d7c2c1b9f8184cc72eaf610f53f43415c499400933a1d4a21c0e2703eb855919df179076032f2e049b9a4a5'
            '24a1fe29c2e9c35ae854c84d95f4d2bd3c5156531e43139e1129ff6366aa7daa952910c043b6393d541667067f1fc93c81c75b3d7dc67197fdb965ac1de793e7'
            '73a26e8687fb91a8c7b6bf15b8d1da681355b71037836eb20616a37c523ce0d08b33f0b6fc9f5c6c7c27ca925d8ef9345baed62ac697933fcc7da0cf8728ca36'
            '3ab2a8149c069950dc7585305e61b83e07be0f298c90af5bbb5c01deb5be20f8e531b5083f6fa0a5d7bc459cb2f4b2f04faefd13d510474d05b4404f996be4e3'
            '5c28a5fb55627ee6d10b393e8b2447658e23d8f6f022da78b7a6aaf33228036ec31a21049adbe6f42198eea91288e9977dc7b1f14fbf5b0ea3d8dee0275e62e6'
            'c9e14106e95bc9b65ca11bc40abb5e0ed61ee026b34768e178a411f5d27561ee6413076efd10c19c99e7c08adaaa547e21c536e326787cd457cb970fb0a00d68'
            '3940c5e962cbb3743a4cdd1a402b45c65badf999a23bdd4c79fef055efeede9ead99d1a442edca35b7993a85ac48156162ebbd82d1e51afee78531d4f7718761'
            '9c561b0ca547a1aecb77905e51972d04e494850bf363802a780b015725967f05786c6521132cb5d5ed5f07e2d3f44a72cada23741ce7b3596a72a743825d33b4'
            '39b22ca0f3f681fb807e173d6e8d82d6f34b330b91dafd074f55fd9cb622feffe65063b8ce719832c433bdfbf4979d3a687649d45e0c8cf7be5c5d9df1178c67'
            '2e014f5d180c70858eccb80dfda9cbcfff25d8129311e805072c71568291630a34a492cb3f4b436f06e7a3546c858704e36de4b1c07709827d1532a01eba1dc6'
            '8d4a671bf1d8982f6520c70d48c4905a23e227c46114698cb33dbabbb8e6d0a393c6ee1b2c21cbfca95d8d8359ddaba8a267ddabe31e363eaf932b8a40d2cee3'
            '6485c08257780ffdf91e9fa3219a5d26e1979f71904b811fff0e53115676afa7fde8963c2982080bdd37a416ce4c153922f9f120d47ae63ab4af994674b2477a'
            '7ae09da43960eedb48aeb99296712fcff629ad85437f8343c379d2a62c8c7ebc368ebf1658aa45ce2a4c5eb4aba790e240efea02929763247211f96f38433e36'
            '777ab9b8c46765c227ec0f88dcd633313750e9d4a84eb5b89ec944418975f636ab69bf4d6cca81f7fb7bc51a9b146c313b926dd25b6111e29a3df9ab5acd820e'
            '536d152498aee8ccac22f2cbf94ab82caeb1c15c18236a3eca7c4b0a9f231ba6410e6c1d4c935f71b7aec214a78752e5b4d2015ef1c2dccd22691ba8142f273b'
            '81662dd7df9012293cea44b32595cf7e6d952907e2b4514e43c6bef8ffc5021faa898a872207bb59f1dd9fbe00a599b821a7c924301281e1d6c76bd8dc99ff2f'
            '5ff5fba7953d1caf738ca3caa40f2160e56b5f43aa74a94d544ed5a5966c8a9721d3d0e4ffef96192e7bc9351fe063fb5ae3b2117171ef20c76b6cc8d17de6ae'
            '776666f7a51c3c8432860ab75bbd3b681c156ac90e3c2ff8818001eb26d10d69022d459d227ea7d0051e9654ad95e75e5a5619781711f170a38b6251c76b26e8'
            '748742f8c4aab5061969d9a1fd39beabf7e403d614e4cd07c3baf6878b097abdd8775ad85ad42989703e4065044de05f1add059ad17cf896a020922947397e0b'
            '611ac640e3ccd0d1f088b6b9452d7b3a33a7dcdef48137d7f9364d4c7551dea62c50a1c7d503de602181afea9f330adad56eccca34b869eaa85760abcdbe728c'
            'efbc2c4079b662544894f3af227fc05e09db9779ed163d24f17fea1f9aa72d83dec4ed7f65d714a18d3a83b3bb6b12db9a48b5ed33cb53f1bf02affa0aa96f0c'
            'f65863db9ebac81141416b821642e210434bb068c3270f35bba897f1ee8b5ff0da718592e608e260fb506dd443efc94a30990ba5d1527ef2af8c6164dd03ec66'
            '9330ed7cfb59aa596b07215ba7815d24fa5bd86bce67a0e05788112d6742852719336c9d05b72ae1e8b9375b2792b4695e7b45b5412f12045ccd71362f225e0b'
            'b6d54506382ae216e50d8960a42beebad4a30866f928233670bf51c8d3261452370cd01bea91f6137387acd270bb43ae3a67b09b215f97fd89d79145972a0794'
            '4d323231445ffdcfaa305845a22483f58f9c37a04f735c4d07b24294a195afda79e08eee45cef6c2463288302d1a8f76a576985dcc89594908dcf6cfc86d632f'
            '9ad75a0e32bc3a18b39faf5eab36aa8c2e152e262c065642753e64ac68b594b7b2d0bdc2c8f95f3739f58729bdd69a739da15b69dbac5070114bbc45daf78499'
            'f595ac1805f29e3abdb954791501f02847b6b67f2c95a5d96625cd717ab66a280262eff283240d6e6b4905928523e2ccfb64856d023d7a0aca7e4e580b6488e0'
            '58473dd5e62f1c53cdae0cc90f7c66c1d135ec5934b73e58b7793e9258acd374c2262e6d25dfaccf7ec651136a151bc191abddf9ee3f9d8cd38221fc14281c04'
            'e9ce318f9862274d6b7cf90ca1d517eda323a8d33509d5d063a98f81e55c14d716b5f3285d0621f260867ad41be83e2cbbb5fd240cc842bcb4bdf0e4df0421b4'
            'ce4f02970ca3c2d4c7d85aabdadd0c7068a40eb102edbf67a2f3521848f9d1a0905f0c7f245e6088b3c7af501c8aee637dabce64badbae7e81209295b9af9a59'
            '34c33a3d8ea9c9ef40e11ae27d03eccdfa19e7eb21114034a741e0f064874867d6138158a255e7438a22f5f7ee5eb632cc6d8caf043d25ef8aa0ddee96d04943'
            '3e78e1430db0efd419a94231742a78ed2f094d4e860c925a0a2699481b01ae90ee6a4a556d51af723a69fd37362ec56e544989ab4fc483dcb7c5f9666b81ea37'
            '9a5c5852efdd59ffa13e784956f6d500ea9492506eff6ae352b2f79f60a45686d5b9bdad11cacc3683dec039c9327fd0aaa52209256f2dac6393eebe102c629c'
            '39cce6df28f709bf8a3ff6d65707eb94713d683b282085fabfc0fd4a2efb130710bf9387ce7747ee18382344d351668dac08ac0dd3a3db0bcc8a1d8d5277f47f'
            '26bc7c1cbd8c441c8ef5d4fa5c043c1c802bdf627c9079a85f17fe2d8cc1ab55b854163a12d0548b55c72c0ed4de65c2185bce26bcc868e49cb011e235353665'
            'f37767066cfdd165aaf4bcfa0bf7a4b8dd1a34d1aa45172560a2f2d5a1d9d5c8ef86a679fc9724af94a2c2d2e856f1af8d4f564988030575d4513ab6759e7533'
            '129105f53cfb56311f855f8d15041f9c2900fe56c2662473e5bd7c1ee3eed96b8d61fd6416fa1ad626a4acf550554d2f4898caacf44c3967b2e7fb03cbcf6b7c'
            'fe1b639041bf52c9037ed08a13a9044b9a56241d8c455e8d7a818b60967fef17124c7b18256c72ce72e2b3802b33e632389adc8f36783c633ebd5167cd83c32c')

pkgname=('thunderbird-i18n')
source=()
_url=https://ftp.mozilla.org/pub/mozilla.org/thunderbird/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

# Don't extract anything
noextract=(${source[@]%%::*})

package_thunderbird-i18n() {
  pkgdesc="Transition package to split build"
  depends=("thunderbird-kde=${pkgver}" "thunderbird-langpack=${pkgver}")
}

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  provides=("thunderbird-langpack=${pkgver}")
  conflicts=("thunderbird-i18n<31.0")
  install -Dm644 thunderbird-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/thunderbird/extensions/langpack-$1@thunderbird.mozilla.org.xpi"
}
