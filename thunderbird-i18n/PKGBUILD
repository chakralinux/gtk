pkgname=thunderbird-i18n
pkgver=24.1.0
pkgrel=2
pkgdesc="Language pack for Thunderbird"
arch=('any')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird>=$pkgver")
_languages=(
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'ta-LK  "Tamil (Sri Lanka)"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)


md5sums=('caa3d47aa60b14fa333615fe1d34eb56'
         '6bf342ef9a2147abb47552cf667acd1e'
         '2204fa1bfc4133834000586059c42b4a'
         '87ef68ec34edb72829d8f593bd1bc6c0'
         'd7e9899e99e3528c082aade2e44154c3'
         'd9fc41568be422ab25a26b618576183b'
         'cec776f2a912ac61462f83b2439b1466'
         '4b8d28a156a2cc8befc75b42ae313b47'
         '6c6b880ef1b2f57bb504bad7bce0affe'
         'bdf7e995d8e71fc3c805245c68690d0b'
         '8a4043c870a314427fb43626d6a404a5'
         '174b6cf1dbea58e2d328555c9c37935f'
         'aea24ef3dca9c1d9bbbac603e3edc21d'
         '36ad7ef401cdd3d8f9a1e9cdbb2bdf50'
         '81e1babd23c05b35f54a455ec99b0e46'
         'a9f5e6470ada70f9087982bdaeeadc11'
         '48fe86fe287175d6a5ebf337b80b0351'
         'e78e656bd8fe666bd55b9a66f13176a4'
         '7c64bace173640d48ea88e2234b14700'
         'edda45675c98e99a43f823389fcc8f93'
         '89bd1f3529d4ff0fb823535a3790b1f2'
         '6691b8cedb3348e09a8c269fb84944d5'
         'ed0c3cf3c4b8a7f9cf00d8da31e58943'
         'c2333972817238141a361b8c3eaec817'
         'd39925c340b560c3d88fd6899896903d'
         '305949a2a65d7b2d74bce8e1822199c1'
         '87677e47f00e29b2b2675610a6cdc83a'
         'dfadebd96bab96853ab4299332f81420'
         '12442873eb9c8615d33af5ef6690700b'
         '150975fe76d26aef9d874358a1e21427'
         'fe0dc39a250cdaf6c028782d7b45fcb3'
         '1d2eea8ff40bb04dcc568e1dc6a45784'
         'f60788a05f256f39dab08818ac0bb2d4'
         'e5ccd01cc44bf1a131d39208eadff061'
         '2d1e92053191907fc9a5760e64893523'
         'bcfd7c806c74290d273f35bce6626bfb'
         '1003e8e7c8f42b5a67b817260d7840cc'
         'f910b281fe73f14ec705e72a8aa0011c'
         '2bc02e0bbfec83d13a71fda19da40764'
         'f0f9c4826471b057bf5da2bb6b4b6c8d'
         '1047561f336cec83bf52ebd69b1ec47d'
         '3e06243b6e7f8499680c2e32535733eb'
         'cce33eba5170dab931751453db03a0c8'
         'cd230daf533bd9eb7e3ed45e5c28cf57'
         '0af7cb69c4d50bc653e0c75d432af365'
         '0fda8581ba2b2d7c9307ad34357acdb6'
         '9444dbed01ebecc29847882f0444a638'
         'b8cfb19b01b949b36fd60da26dad7a39'
         '77b450de1c28934b9015d528d18b9591'
         'ff44e513f2df28de19b4e3f8c0aca358'
         '2963b6cd3f48a6c661e353edf19fb5f3'
         '78d051b00ea7411d255aee5e1c490b5c'
         '9d8771fb5491e1c369a10b0eac0099c1'
         'bf0a380c5c1817fb35f03bd6d4f8a671'
         '79998feab032e17c1f971e1ab20da947')
source=()
_url=https://ftp.mozilla.org/pub/mozilla.org/thunderbird/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}

  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
done

# Don't extract anything
noextract=(${source[@]%%::*})

package() {
  for _lang in "${_languages[@]}"; do
    _locale=${_lang%% *}
    install -Dm644 thunderbird-i18n-$pkgver-${_locale}.xpi \
      "$pkgdir/usr/lib/thunderbird/extensions/langpack-${_locale}@thunderbird.mozilla.org.xpi"
  done
}

