pkgname=thunderbird-i18n
pkgver=24.6.0
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('any')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird-kde>=$pkgver")
_languages=(
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'ta-LK  "Tamil (Sri Lanka)"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

md5sums=('22d08fc8d7c0757fdc0282e9cbc9aa94'
         '1be8cb1c1a4742597608f412c6586a33'
         '3a043ba0deb2e06cad504d5cc4052dc7'
         '47c41062fa9dae8119b9eb0d7cba0533'
         '0f0e17696a8c83df4d384814eaf8282d'
         'a0a7880482e6c4b016cf8be3503a554f'
         'c7bd66290332fa33777743921df1ae04'
         'fcec46c7e3ac19082cb1cd753ad423f0'
         '33fe2e1d772858873fc85856b57d6585'
         'd29fb5d0a1c65216dd7ebaa9527c5eb8'
         '71f12e69504b13a3923ef9528bac1909'
         '7acf14bd8696441dd9d2f424151fab53'
         '26330915701543a62a5eac05d6a506d4'
         '2b89692a44b29e62dc0ab23ea2b07730'
         '972f2ea55b2900ef1a10d97de7b3f6b3'
         '61f760d0d146a005493f7774041fb7f5'
         'e733851a083d00c80797239a4d4a7fc0'
         '651ae46d6ffd84feadaa895bfb386362'
         '23d83d45385cf7c306266ec8729f2fc5'
         '2241bd8ce56c7d81c73fe84d452cc3d8'
         'dc957087783db0071d078c90925be301'
         'd654c648cce57fc8de333a63c44fe5cb'
         '508ab96006cda5f419742f9e4798d91b'
         '689a6205ce28a93154264dd4b12ea2cc'
         'c8e544a7e465014fdfb0f5ef411a7ea3'
         '483350d07e400108ebfb6e2adbaefde0'
         '11736e42656e7ac6133e641fb15e586f'
         '88fab021ca882207030befc1a208f8e2'
         '3bbe1a56dbf137e35635ae0595f97dac'
         '8ea81b70dae6bc4bdf55f842be5b2a3b'
         '22092a11f0ae1a85d6de86bb4a84acbf'
         '48d86606dd8f5140766de57f6e6281c7'
         '54b2e562abb4fc0e58fad6a8e2727e88'
         '09ebb8ac240c0654fa0918e4127b1337'
         '719f6c7ca6b94460f082f82b746badc8'
         '8106dc24ca84b77ace301b941fc711bb'
         'ed5d93e69c66017f32a4a04dccee9ccd'
         'fd787aab6b7788ab98b9fd245b08a5a6'
         '90c558c408990bdc64661260a4d1a748'
         'b9e83631a8b9e4e9a282afbb6b685408'
         '00b6784a00bb2f4b010b5d783caf2c42'
         '2f49eaf754160cbcbd1a5d0e5e082d91'
         '72cf274c6f08779a8e9cfd17e2be163e'
         '5d99189e9a11072e71485a3db18e011b'
         '8bf82324e03c7dfdeef556fcee595c5c'
         '3195bdf99aa9b08f1a97ccc4005482f3'
         '5148493c2e8cc65f8b3f1571c0d73551'
         '12339a7ee348129327a911f1a0d8e46c'
         'b598ddb7bea0a250dc7939b3108c0963'
         '4a80833c6fe28062cab93f6423a3e303'
         '5e78681b5117809a826be18c9101b3ee'
         '73af2a0354efa3d0b6c0fb78d6179635'
         '1ba1d7724fafda28dd4e975f5d2b2acc'
         '941463886ed5addb87fcab090a14c238'
         '2734f58a6203094425122994265f29c7')

source=()
_url=https://ftp.mozilla.org/pub/mozilla.org/thunderbird/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}

  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
done

# Don't extract anything
noextract=(${source[@]%%::*})

package() {
  for _lang in "${_languages[@]}"; do
    _locale=${_lang%% *}
    install -Dm644 thunderbird-i18n-$pkgver-${_locale}.xpi \
      "$pkgdir/usr/lib/thunderbird/extensions/langpack-${_locale}@thunderbird.mozilla.org.xpi"
  done
}

