pkgname=thunderbird-i18n
pkgver=52.0
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('any')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird-kde>=$pkgver")

_languages=(
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (British)"'
  'en-US  "English (US)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian"'
  'ga-IE  "Irish"'
  'gd     "Gaelic (Scotland)"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'nb-NO  "Norwegian (Bokm√•l)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Portuguese (Brazilian)"'
  'pt-PT  "Portuguese (Portugal)"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhala"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'ta-LK  "Tamil (Sri Lanka)"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (Simplified)"'
  'zh-TW  "Chinese (Traditional)"'
)
sha512sums=('aade5aa3e49d9c23bb83c62697347a3ef7d3a6fdbc00e598e4291d5a1c2d80f1cf1151afdf8452b0be44fed367986bd57a979b384938f9f6ba8348ecba830c9a'
            '2777bc7858bb061385e2d23b4fb57eef943218748b5930f783d6deaf66f164ddaee9eea16c416c5caeeb388d61f235b6ab42d4ac7d8cbdb8463f06884b2d67bb'
            'aba5c51be7adc8de430ada19223ffbd12b46c618dfc9548eb06d958aba2c89c3556e7b1aae489aa2b156e44dde0ad666d2012c791ad5038420e0541b74001ef1'
            '60dbb3dd830b62ef3b53c65389310176c2fd37102925a4e0f6543744b083b831b2bdb32ef4154c61c604f78a1dc0ed6ea523ac1510c6f69346218974c8d53022'
            'e825c675521343992517239dcfada4bf5f60b536bf27553e7f23906eb8d34b7d1fc9bcc83b4cb41ca87a15efdd1b2b706e13ec8044e1440600ca3ee6f255fee7'
            'b6bc12ef44d5d5081d36839e01d34b7465413073ce9240363332f05933a0928bdaccb0edc5f8a1bc9c115627f09e1130d230d3c1c5cd47d8fe73b0e4d04cbfd9'
            '5af9f50b5bfdef508d23d73f972a6ba9e61839f6fd12e1f8989c1d2fdd692f9f47d877ea5b60690f3df2d04e43095c1591770d196097abc3a4e352cd4eed3d12'
            'aedd9b5a047c8553ffd16942c66123f32dd9b4f1c719d76b9c9e3479658fbb139408b356f151a399213be715879442365b5a895732b764bb7534745da743ad9c'
            '72f7bba3ac128d1fdddd822b07436d1df4abcb2a02f8b614e807ccad723821c0545bf480064be31abdf90d46d370382467e37cd3e202d1a53fedb644ff64f65b'
            'cc9b4d57b531c4ee17937d2b498c6dda8c6b51e620fcd33c178442a1d985fcac9f328e331525153b1973ac7c99d8fd8b6be6dd391a293e6d850f8589f7d20c49'
            'd4d9190e83954c6f8a04448df0329b1c2012155f88977c4fbcae5624160e72dfe50853cbec0883d66975adab6dd816fa88414df1ba65160a653e3f5fc8831028'
            '89829b7277c0e3c8fa4a4c436b169f286884805bc20835a79a4d466d8930fb73adc2b61f080c01b030fe0997dd4ad21b050777dd130f161bc822dd78bda65035'
            '65d848077bb8bec30dd913090eeee85d35fec8a05d69e9c5eca1e2330bc87cd957ee768715def2809e77418190e1b6805d6d41168b9be5a7b48eeb11ab667dff'
            '53ebe2b5163e8778aad1eff77f564d78f70c45b3c4e5fc3f239e95174811423a45af55ee76c8c9bb19dd9a9ddcb12431db5a70df75408c0888d04d2873679cab'
            'eb5d08cc2d1229ea3ca33a23a5da2ee624bd06290892229efb0d8090a85886bcbd378d47bfb9bba94bc90a82c58aa305e6eed048d2abfd3c8b04ed39b40d804a'
            'b01c55a3ed51649941c69eda52fec5fd52565340de1e30f0751a6fea3cb73d1ff918812e7f7f5eba8b1da897fbe3035082afd6a6d8da1d0a03cadaddf9f5694d'
            'b73165210cf1e6c0610375d83d648e70b705195356aa66f489824d47421ac1e47a8949efd5dc584f5867cef13523af99f4ad47f3f26bc9e6f613cc91b332155c'
            'a4fd44c4b2bb7575dad0d88726ede7c0fe19ceab87c5fc89dfbf83cbf552e8e48874133b39a1b500cdd103e1d70b958683b5b851e3e7389d5206925a12bd74f9'
            'bca11bb27216a4110b07bfbd23d714a664e2246096c3dee5b6551134bf230c16fe15672aec757dc23f67efad7ed384e604cd39b9b9e5edafb9384802e8a90c08'
            '5484adc82fec8d8f1f93847e40f26d20804c65542b59d3b7627e36de54bfa4f4aa9014692e66e65405dccf4e73e9b8d4be2d377a5f6ff2b9d6eccd2ff3ff45a5'
            'f8d47dc62cdf08449cb1712a12e33fd7df93929de16c4728a270d30296172738ef00c733bb66f650ec3cf33ffdfc011b37f2bc3a5dcf48ac7b4cbbc1c062bcb1'
            'f3b61d21150860249693eecea637ac3ac366eb821d598f87a1f3fbd8653091ab2be0c44e4986b988b8266e4ca23c006004f749471e8bbaf98ff9d5cc5ab1408c'
            '7516605ecdcaf7ff0ebd413ca7286d8b664b37fbcbbb0301e018a67b03913bc884eed769174391f39210286616c6cae95dcf24baf0079decb8924fcf05046ceb'
            '6d48b403792f8983658b0491f26116b823fdb66c95bef18b6295f3c047b91ec36fb4785c1f120ff220ad4867bbe86a5ec50f7faf81490b8e629e4d5bf48ac9cd'
            'a98ccdafb4af2c32199956a6c9cbb016c5c8bb50294f142f363ba7ce761206b61a33d8be6647e4334465be2686b913d7aede11a78b4ad3e5b476f9daef1dff68'
            'ee2b33eaf2b5ec93dae3aeecbd2722f13e1a339c8e070aa14826a2fbb6b9e5348e14f44cd31742fdd229234510613af6d5e48bf0c50c50291e78bde382e33271'
            '63921bf62c2b6c5144c2d1880f6b59dac8f33fee32c7ddba2d13905bf3eb3795471dbef42ec4b0b1d92ead7c15bc9b0a4cc15eb00000c36c9061c3f98e00d472'
            'a2999a1a1c38379a26fc74619085ab12668c8baf822a7491df142c7d981bc066429dadd1a47d664dae44c03d70e13f30b8da5dd937df1247ae8845194f83ce9f'
            '5fe339fe2cef0cdaa97b4782ef1cd4c90fc9486dfae4e6a09fbe616b3f82b15c96a35f84de55bf14594a1a916fb926a7c1f1708415ce69ed778a270a98a01786'
            '62c9aaec32c80616e1ba0cc3ddcc1c8e8a81da365d6893044b62fc29d40a534831e5985f7405621c2ba6ea236b01f64b4d77de34b861a8d5958836902720e509'
            'f22b1428b61738eb03875db0d32419e6a2332436198fe676f06868d724791305f228c62af2c3ca24c240deb8d767d13fd0562676b936c6311889bd2fc0d6cc6c'
            'd59ce6c6bdcc3e79330cecee09dc4ee242a078db9bf8df29d588296ebf90375dacd0845d8eec85f4c31fd58b4a5a32029d4d501856b62cd974b117fe33499093'
            'b1797993b32dafb9347835330a3f248a7b74035fc97fb8f794ddf4a5f19b423d958b042a76d8dfd31f9e114d521d488f638bca147caa4e40bc1500b1221f8b0f'
            'a70bcd05816fee347013b0b603a3c48426942201037b26708da9b34c33eab962cb33d18a7ecc5d2825b591e3f4991a9201b7905f3bbee1f21df5e5dce812617f'
            'fe2a9b8fc12310b9c5bf6ba2e7f7e2369ba7653d87da6e58b3c72bfd085d8c6b30a22210f996c8d865e6dd0893c248f2310ba62d9b99c184afce35aaef820640'
            '4643e20b3db3c5b1b2f5d804f311c813ed7d8106d16b7b9f72384f6528790f63c288242e85528a3ba4e2a6989a3d658b6cec2ea72405dea3c08d03b512c8d7bd'
            '8e7b20a162810c33059eebddc742e3b564b2ab352472652f002c0cd6d8338937bf76a681df59da57f0a29e29297dace40e78188ef1930823b5bdfe99b0373973'
            'f6c5291db9e39283e6eb35ee63b5f903030be436caeb6f027d4fe40ea82ffb7dde7f56887ca2fb9ddde1a172ad733069e61f048136524a03e8656f087b26e9a9'
            'fb3f8a2682b2b4f4977a591bb6571effb31979caea92ced707952f327478e062df8eac55280808ce9e6c187b81811290173bddd89d027fdb00cea04e289f9f9a'
            '4bc3a77364d24048f77a2b98397b8c8b772e10fd41845230f607314a0bb13372bddda9099e03fdb3615a02196190b24ac123551a5c1330579a7b0f18f1dde2ab'
            '8835047d51e946ef0a6f091c0bba21a3ab267827712e75163c074e872d20e098ec15852ae42a0f5f7f43e8099f945e08774fbf827b5b4bfefaf2f4a7a38edd15'
            'd61a155acc68ab72c0cbd07a485a67f16a1e9d00265fcc3aaed15a42287028086ad2e07f2039e12e6352f7747add5931ab0423940d74280d9febd5d38985ff9f'
            'f0bd011036c5499277df7894100c012d62192fff9a6bb53d849ab66738294b43ef2e04e9bea1f375a945f31683591668d278883bef06151cd926fb1f6bfa89ce'
            '552fb93c2c92084b6045811f1a2aad40975bd403bf6cef12ba2904d03c8571198a2f777554720cfe55b37a7810186c1cf7574fc71e3ef97e6fe7969b9f064e2c'
            '43f2ec346b0b2d5724ed3cebe91ed05ad14582f5e2949a41bf0094e3ca850ff02fb74a97c930ff01e41e178bbbb656da468299228d89ad63d897ec6e02484a98'
            '213ca21a1616c39e16b7e776371fd7a52001b528eec342cb8581af4ed64ca6e17c7db0ba447dd54a7682218b1f1ec488696959f0b60d137e895b7e49217d2a5c'
            '512d287548a5aedeaabd8ce48626d6e6c67f8cfcdc994ba9e24b5b0fe6c0095dee02a47d3246063de34e279e15ad23f68d40f1c5252961ca95311e1e54fa370e'
            'e6c8b2dd9978f1bd9bd527e9d55e71f26eab79b439c87cd7a573fb3b635793fbb83d5da8979d2c0e4ca595c49ce25ac71821a7849de1a1c3e079f84f552ddc68'
            '697375182570ddb2db14dce7df4d0206461f51e8c02c4d8c14f63df617c316ba3595095c360485b13e469d6e57cb623c42fe62007c021e3e6cef57253fa8dcb4'
            'cd0388305c34b5c38892b10047717fe2eeacd7e86eb3485f0d684751d7b05dce94551d94edc137470192e232e742a3aed70d2e16bc097b1fed04240bba97c6d0'
            '5c32a15518b78485956d77414106adb0ca4d7faab3b63cdfb848cb76130722574caf3d9c0db9c8ce2a882e060d8203c69347b10c96cb02bd344179517661980c'
            'f8f6a0a9f48d341542920fad8480e03b0ada7f1ec44370f6d91bca21a6d49ee4a5113fa88e92536054027ba062fd4ff3185c85f75fcd61a29ce44498ba81cddd'
            '66c191ae543b7862a2fff90f0ceb2f1754cd8282a88d3ca49fa61ff9be78a83884e741e7ba569fc2e098d7ded3359169ebf3cd845166f9fa5d4d08e7fb21f2f8'
            '05669a79ee23f3e08ea9b2b4cc51760cd5c727f0240f97f00cb3672a11b20312553bbc0687ad3d2dc0be38642ba13812a741210b7d25446f865aae23e2a36f90'
            'be59879202deb5a6927ace80b1b026db745ea2f614fcbf451c82c84626de6c0e98885fbd73a326a4202274da5850f5b85a2547b01b9e160def09f129f3236d3c')

pkgname=('thunderbird-i18n')
source=()
_url=https://ftp.mozilla.org/pub/mozilla.org/thunderbird/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

# Don't extract anything
noextract=(${source[@]%%::*})

package_thunderbird-i18n() {
  pkgdesc="Transition package to split build"
  depends=("thunderbird-kde=${pkgver}" "thunderbird-langpack=${pkgver}")
}

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  provides=("thunderbird-langpack=${pkgver}")
  conflicts=("thunderbird-i18n<31.0")
  install -Dm644 thunderbird-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/thunderbird/extensions/langpack-$1@thunderbird.mozilla.org.xpi"
}
