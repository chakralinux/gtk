pkgname=thunderbird-i18n
pkgver=52.9.0
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('any')
url="https://www.thunderbird.net/"
license=('MPL' 'GPL')
depends=("thunderbird-kde>=$pkgver")

_languages=(
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (British)"'
  'en-US  "English (US)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian"'
  'ga-IE  "Irish"'
  'gd     "Gaelic (Scotland)"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hsb    "Upper Sorbian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'nb-NO  "Norwegian (Bokm√•l)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Portuguese (Brazilian)"'
  'pt-PT  "Portuguese (Portugal)"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhala"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'ta-LK  "Tamil (Sri Lanka)"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (Simplified)"'
  'zh-TW  "Chinese (Traditional)"'
)
sha512sums=('50b9e878463ffdaae09fbe1e5567200892f20c3c593e9c53ac7524f58c688711e58b2cd8a668a5ae82e3cf96f0c178f5ff111d2f56f049bf3c771b881715a67c'
            '70d8168751acf69915f3c6643feb23fce813a313243a392bd3979db24c4f8641b56f92a9f5861aa4224549ff621fadaf4b0f1ad924cf68b9daf6687d15d886c8'
            'a5d607682e7519634c6d8efb6e688c476f144287973aeb854f3dc708f07a05c57784a0d2e6416bae287b3315e5addb04384077f55398989d3b8fde24a1a8f826'
            'b7111d9589aeaad76d7e7a315c9cff8eda9c543979252f295f1e10c502746eb29135246681b10182a389f7f60f1e7267de8a268a5f51bc57605f9def02ea7130'
            'aee603e3c82e7f8d7eab37becac87dd2b1e21282719cb7241d0cfce97ec4eed0d059e950a53790581ce225a94059b3d7603a3366ce7eb1cfe88d4039a201edc4'
            '7f1812799616c533b3170f853b9a625887f850f8ef5a84cd3fc7d4342b4df410e278b7010cbbb6d788d1ed6efd4b5e636f96536bc3b2c7fe1daca2c0b1cf94e9'
            'e21b987728ddbcb92666fd1e20798fdcc9da6606bd8668f40048a82c49424005cc87fd05f74ca39a9ede8e130234631ac5b9e1403e095307d56c630c336433eb'
            '5d55c94b8b2791fa6f2a37a0930716026df24c91722744934a4fa26f2f64dea1fb5d3fb750789db95ebf153303bd2fd93c96699894260413710d7487121abe24'
            'c11fe8606ac053e04a6f7ca0d95636ecf03ac38ab5a5d1f2d11e1b11c26eda1b3834426a356dfa1c91c8746f2bc8294cdb361d433070e2ecbe5c14a17af24da7'
            'a467bc94cd2c2c7fe9720864b65846a3d66db422d789c412b641390437689bc3f9004b129c222a315d7c0b1f028dc5441479001a595e0188ebe52606fe2b86e0'
            '3f70eba9ae04bc7c60684768746cfac5f38665fe2094da8c285584e5181f1fef71f6e655149045c69e27ada42956011ab224da96745e22f51691fe367fee03ea'
            'cd2ff8ecf7d25ecd2d01902cca5e0dccf0cfd7f01ed82a2bab6691b8f58b5509059fab5ca3e559a6c7451ee13c301b4a06bc2307b64c8a5aae8551315f5ec049'
            '6e71b7791d265d564e86b803922efe70e4a42789cdfbb6dc1fcdf4c64a537688f1650d0c3d3c552b71c744c3245aaae65a62b940cf536784f25e8a89d2e66420'
            '97790cdd2d8d5bd62830a3698cb488d04b9588fdcb7759f51818ce206d665fab93c706eea20719e2aba21a701eaa77461bebfc68029b8806e9556b135661f227'
            '918ba86b7bb600d294976242624df48c1a17a79ea497b390d9b547a73faa83be1712658db8c11ba419636002293a24bb437ae6d1251bc045b86dfd207d393f8c'
            'd2f7f03a0acbc911d97567e1adbbacc01e0ee10b6e7611fa2897a7aaf91fc68ee33e386351ddc957c7133e8c0401683396781b498bac536cec4a94a640e3e8fb'
            'd612e94b077b1df62c59b75712bcaa64c668a2ae95db19eaa5b73bde9f716ce78d254513d9ffed42b21fd0d4e5792b01806597483e69a5dc1fde56a5630906a0'
            '9f732be17798c601973fc1b8bc31d59fa9f31eaea258d6dbf7573ab2b40d3952e9e28d7a5f2ada8d0c7ee97dce20517f4d8647862b113cfabac135d49bb92d1d'
            'a215f0a0da9161be33a2da2026924d347168222d546dcc9a8496e207fae0782bc103d5e32c768a4be2fa00fb8a600964083e5eb732e6f91a88cfed888667d948'
            'f916163f6f615b20a1e4a60fa21111286ab8df3a9f88e243de69925394674721c2808cee34020a95d58702d8f7d0ac629cbadbb10024db0de46132b9d55ff2da'
            '2a7fe31fce0714fec73d63ed44cff7f357b150e06a4c61f4eb6397fd8b124edf5f4ba2c2af87d2d432979099151f161cca743b4d03eb9279800f1b6a67fca955'
            '2d82fe1882c51f42d855d5df2cf8cd74423fbe1548d8fa5cfd080c164d730f3cbd30cccb85fccb4ceb7d8cefa8b658470586c2f0efc2f034153340908109edea'
            '526966c12347422157a2b0c5cf4fca55b0d84467bc4bf64538e125477e50d3a5b958e024e6ffc6e15e1a0b753ec20031550e634808cc4e543e9cfd1d1d03cd0a'
            '4588aa8eb885380c46a66e0850e38b2c848a745d58be19b9e9efa61a93359152ec5708e0d576bd70c59a9c514c546524294a443958c404c1bc0a6dea6a7c054e'
            '236f185fbd15615e1b78b41b3e53c1b2445935c9dea0354f27961a301f08a987eaaa42f2e2f5f38f2e0dbb5213396b35d72665c5c80250122d963f2729001c96'
            '2dc5bef2c35b425feaa32ffd0380375147d544259d40c8448fc0343d0f8b3a19fb30bc994ad752906dd0a72d0b8a301290afd89cc6e48b8ff52c860891356090'
            'f1f989f08c5be8d80bbc214b07b5ce4e8979bf43bdd70b8dca41b4f83c9f7d7c775090ca667e0679f8fbcac84df839632065af90fd9ebd304097e45e5339bd88'
            '67f7e38be24cde53b169751667105a97c6acc2ef7e6789f9e9018d18641ee2c1d94cc622c192094d91294694758acd9f6a2e80d2b01eee02dd381acf3664e79f'
            '80cfca987519eb5ee0b2bf063fa6a371a338c98449d76a61c3848363401daeeaf173b0db8abc39fea787f7f896a4da9e37a1d654dfc52bab8ff820e851ccaf7d'
            '4ae4afbadcac9341a6e5995a0597d7fb35f4d42241be554cebdd4d6a6fece160aac23cf4d939cb22959a2b85e685849a7043f81f3521f6547c34a876da2276ed'
            '26706b3e30a6e539dc1aa667e593928a10ec6abdd8df6e714f0f72ec54371fd12b12f1f322e0a6e94b6d9954999cddcd9e999155684180993718e43bcd05c5c2'
            '655eb55ef961eb092892afc5f4217c5465f37c22f7475b02964f3ad6e10c139980bba452cec12224c5f4dcade65b736c4a7618f88d1d2047cba5662b27822fc6'
            'e0d70a3f1d96a1cd8c7c45f381c8710c137ebe09cbc3fe7ef27d1aec0c632fe8733fb715a03d977112f2bfa38a892bbbaee30b45b009f94b6d34be6d61645d21'
            '4cde8564df31275f0ee98503dbbfe378956fdc817c2d7228f43ddc7bb6396f2bdbf157813e17a2e3f9a979ccfbb09463775ca34925736fe4ca0e78014e3b9d9f'
            '5c112ddd291b0de8f843d859367223d6017a04bb41ad479ddfa6e2a29c187c01deecd49e9fcb6a73077c6da5d2a9ffdb07d0077c10f9a672981628ffb4c7aade'
            'bb62b1f6e98d9873f98ab4d8e1892758097e056389c9d3d6267fc80727513f6943147c462314eb18793d61a7c6daa0b6dac498c65f61bdb7ed91f9b5a92ed68b'
            '3b4ffcddc3227cb3ea14eeb7c272816fbb1bc1fddf11b2c9198a251b77af7bbda665e96ebc02cd209169e3c27a866a0a2265e53643feeaed1fe1bd5b35a8397a'
            '3d75fb2a3934b48aa40bf40673e56f68fcf7185132c14fcfd5f667089266221eb080e55a3ac88ff1a67cb23a6d8ae3e46ae1c0fc4826f6f7d7343420ea7f75e7'
            '7b91c65372f4c79efd99a01d8a20d57b5df7946c3510989f05ebebdfff858b231ff010cdfd3503d69b79da6546a79a1e208b111f32029c4ec70b7ae1acca5883'
            'f20585372f247fcea5f0eaba640feaca4368bb2c84144abbb784a1a9266b30778143ed948642946fde34c000d5fe1d06cc55f030449f89426731b43c83a559f7'
            'bc125ea42aade77abc0e4cac23e076661babf92198a07f0aece67960e2f9245dc1e59c0e512877fb8b2c957810ff049b94ef078ac1fa2752bfd2c4c61ea52aa1'
            'fe9e044d4b0c03fa084c1380206c7b7697d1f1c181bf06256c2f3a43caeb3e8f10942e15ef8bf0589e4ccf788b4030464130f05bdb893baefac750256c3dc357'
            'b434e5e65d12da96ed4c9c08046650777ad8d10408b0dcf3065de3d9168e179d8bf98b5a673949ee33893a667da54ecfa904ecdc898f3c6e46a56218e6dcf497'
            '0740f6d595a7214b68a90d3077b55c4edd94d26bd278d04394d921e05ff719b0c664e88ef6b035f66c4b6d64bd6c439bf0c6b51c80bee0a6dc0eb479fb68fd56'
            '9a7a4ff31763fc43e0f6e5a0664d3cc16ac74794cf2cb2f200446f4a8ffdeb4fd8bc632191f42d4610434c8315b683fede11593ac26047a9f9d26a5b96c6f0ac'
            '41bf73c0ce1cb325b46eb1c0c7a9a3edcd8509eae7cd1013a2e56147ba371ca12ff9e0e8e6ecd9615c2ae3c1534d30374a17fff28b1813b44c641cfb235eb53e'
            '859024051568de4ef577a06219c397622f841d260ef4101a7e30285f559e929b995cc9f30951d437ddeed1328285884474875681ed803590a5d72ef67f798eb2'
            'e031a4aef7ec8930d2d2dfc12f0a94ec60d1b3f1d5aa4e298809efb80e478cdb17712979dc0a2df36f516860119f30eddaf78944bb7c6dbf20824295421d788c'
            'b6a2358df2c43102b130c827bb5fd7e567e0f11c28d65b931a6f96553b2c8f1ef5cfd35783c4bb75e703c85021283e57b092f84ee7d418e50e949635825d2b8a'
            '28b5d009013acaf16ef3b8a5781e34b207c9e4bc01edb4c7e1ed0dc0273d9deb3270b1ec05749f5e131bbc8883d976809057659d92b68c5375a4e9e04146d045'
            'ab98bccbc87f0456fa12732817531887f18175521087632f350cd24d126fc94ea98b0c8155502db7676387f6c1961560954f5f4dc5351dfad65a24ee84b3675a'
            'ff30d6a220f8ff3dc8a3f7672bc814611ed9a7523498efbf101b86285389a2a3f4533485266ffb36dbd9844ef5272ddda9cd54efb90e71e44a033179cd41f982'
            '5bcd5a65d88657c44d60bce26550a6896319d007462ce4766901b03e5e1749f83f29dbb2e5989bb624db57bb4c51223d48fb1e815878bc4bf863cd46b93ea865'
            'b302f024a827cabf1e46b74892410f71c62a63246093bd3c014feb281bb46a7998af8ba75a7be4c2dd8857c574e653329b76246e34454bc2556992a7663d1697'
            '1d6746d15085b427400000b1e20a691c9b7a4184f380d7fd516af83ff130a450538522d1d9819a7094237f3ad2d51373098fc178f7803be8c9aa62e6ae2ab257'
            '90ec8dda5fdf491a2d81c0f675753f19f1c6289b42c08d5ea6b73e0148f07828d481723bef7a516ed67ac1c9bdaaa489ae9579782b389cbad4cbe76f4a19f1e1'
            '2edc8f16f4dce60c5ab8f29758f380885dec06360d6c39f18aceeff2647da71c6c53f5bb3e4b718acfa17ad1692b87df7320cd2966c3de64b0091879337cd0fd'
            'a8b9cf32945efb8ed958ac53ab11e327f8dba8af29ef7c18af66d4cc9c7d86bfbab3e44e61d14a5eb40b82d63c9ea3a875672bc96c0baf08d841df7b7e3dfba0')

pkgname=('thunderbird-i18n')
source=()
_url=https://ftp.mozilla.org/pub/mozilla.org/thunderbird/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

# Don't extract anything
noextract=(${source[@]%%::*})

package_thunderbird-i18n() {
  pkgdesc="Transition package to split build"
  depends=("thunderbird-kde=${pkgver}" "thunderbird-langpack=${pkgver}")
}

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  provides=("thunderbird-langpack=${pkgver}")
  conflicts=("thunderbird-i18n<31.0")
  install -Dm644 thunderbird-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/thunderbird/extensions/langpack-$1@thunderbird.mozilla.org.xpi"
}
