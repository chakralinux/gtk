pkgname=thunderbird-i18n
pkgver=24.3.0
pkgrel=2
pkgdesc="Language pack for Thunderbird"
arch=('any')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird-kde>=$pkgver")
_languages=(
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'ta-LK  "Tamil (Sri Lanka)"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

md5sums=('3adecf73004a55c0026ad1d5ddaf0937'
         'd94166943b473447e8b97984c4735bb1'
         '52a465ad6390db11994166b027ca2e93'
         '3e4546149458a44941bd15254717400e'
         '5b6422e2db86bac5df371bc596ea5631'
         'ef9c7dd034a679c293ac56c7f78367b6'
         'd021773b11b71780b50d0e299d1e8279'
         '22e00abb828b5a0072ea1912a2cd34d6'
         '6511c422d68bede09fa815a5542ccd3f'
         '7c16532e13417661451b55c53b622465'
         '25b0b6fc21704f748f6b78fe23e8e789'
         '7b77022257068763507f4a43e1604b92'
         '8db0a3abec91ed9f9e5eb2c088957329'
         '252e317f2a467fab1ab5cfb1ac551506'
         'a9465eb3f16fbb35c78962c3772bd787'
         '6f370ebc262d72ad63ba742fb9ba49e2'
         '47397c431e212312518cc85d2d5ab512'
         '1ab3885dce3e7cdcb95baa19ddaf4c19'
         'd8140bdb71dbf8ea9c19e13adacad349'
         'f6edabb298f032668dd2af08ed6b2712'
         'f6ba3e6343c701f372e5de9a09ac8dea'
         '2007f4177f8f53942b7208a25ce0d29e'
         'f89da52bab61c07829f8f14a64c950ce'
         '84078c3f1eadeba7198b7d1356b87c6e'
         'e2574d0942f702d91e43bdf8a046de35'
         '8495f966107ded5b8dfb1ec8a03fc174'
         'a3bf4c8f21b74027c85b240bd85a06a2'
         '90df9248a4294293a5b8d6e475939708'
         'b840246e045f46df2ad21e7e9996894f'
         '2973d584a01f271e403bf968347c7d2f'
         '0f086679b0d1b7e2afa1086ed0d8f589'
         '7a4906e7ba2360a1726de54caa453a16'
         '4cc5048300aa622d2750141b3f41356d'
         'b76e700c150a18b6ba89661cef770375'
         '54b962b2e7b7bf25ab0b8848dd343a06'
         'eb9c67dd35b375c295e8c47986e47f10'
         '585be00251539658e4e2c0e4fbca4924'
         '80546a6e86be26ea3ae7d3a47e65537a'
         '5facdc8cd3d4de183223a8af40fc06aa'
         '435212c9964668127c47aed244361e7d'
         'f2dd2394cefb24aabe041fdd7c150ba0'
         '52fbf0569164e1cdcd4047ff58f2a449'
         'd4822acc15bb421bcf0c08ed47de783a'
         'df05f669c6a502153b7b9128c6cd9b92'
         '5198ad9677c568f68966e245d34ab569'
         'fe62ef48335b44f306ec5e241709c9d7'
         'd9fc57b13627c537def976e1c3a187b9'
         '16d5f304d708d9b710b69121e9af1a76'
         '1caf1a777727983bcdacf5bc83e31124'
         'eaea53c5ca4bae10448bf0b7ee5d2008'
         '48601827abf2ea4b410dca2a812583b3'
         '61592ef891b8c3d605c2c3662ae10af0'
         '7ce7df79b2e8c64812ab0865eb699540'
         '58519f4e8ef436524cc6d4ad179ee5c6'
         '13aa69d87e1a1322aae6f3226023b961')

source=()
_url=https://ftp.mozilla.org/pub/mozilla.org/thunderbird/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}

  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
done

# Don't extract anything
noextract=(${source[@]%%::*})

package() {
  for _lang in "${_languages[@]}"; do
    _locale=${_lang%% *}
    install -Dm644 thunderbird-i18n-$pkgver-${_locale}.xpi \
      "$pkgdir/usr/lib/thunderbird/extensions/langpack-${_locale}@thunderbird.mozilla.org.xpi"
  done
}

